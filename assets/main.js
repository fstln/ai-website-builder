var bt=Object.defineProperty;var J=a=>{throw TypeError(a)};var gt=(a,n,t)=>n in a?bt(a,n,{enumerable:!0,configurable:!0,writable:!0,value:t}):a[n]=t;var C=(a,n,t)=>gt(a,typeof n!="symbol"?n+"":n,t),V=(a,n,t)=>n.has(a)||J("Cannot "+t);var f=(a,n,t)=>(V(a,n,"read from private field"),t?t.call(a):n.get(a)),p=(a,n,t)=>n.has(a)?J("Cannot add the same private member more than once"):n instanceof WeakSet?n.add(a):n.set(a,t),w=(a,n,t,e)=>(V(a,n,"write to private field"),e?e.call(a,t):n.set(a,t),t),c=(a,n,t)=>(V(a,n,"access private method"),t);function wt(){document.querySelector("[data-cart-icon]"),document.querySelector("[data-cart-count]");const a=document.querySelector("[data-cart-form]");a&&St(a),document.addEventListener("submit",async n=>{n.target.matches("[data-product-form]")&&(n.preventDefault(),await Ct(n.target))}),document.addEventListener("click",async n=>{const t=n.target.closest("[data-cart-remove]");if(t){n.preventDefault();const e=t.dataset.cartRemove;await Et(e)}})}async function Ct(a){const n=new FormData(a);try{const t=await fetch("/cart/add.js",{method:"POST",body:n});if(!t.ok)throw new Error("Failed to add to cart");const e=await t.json();return await xt(),N("Item added to cart"),e}catch(t){console.error("Add to cart error:",t),N("Failed to add item. Please try again.","error")}}async function Et(a){try{if(!(await fetch("/cart/change.js",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({id:a,quantity:0})})).ok)throw new Error("Failed to remove from cart");window.location.reload()}catch(n){console.error("Remove from cart error:",n),N("Failed to remove item. Please try again.","error")}}function St(a){a.querySelectorAll("[data-quantity-input]").forEach(t=>{t.addEventListener("change",()=>{var e;(e=a.querySelector('[name="update"]'))==null||e.click()})})}async function xt(){try{const n=await(await fetch("/cart.js")).json();document.querySelectorAll("[data-cart-count]").forEach(e=>{e.textContent=n.item_count})}catch(a){console.error("Update cart count error:",a)}}function N(a,n="success"){const t=document.createElement("div");t.className=`fixed top-4 right-4 px-6 py-3 rounded-lg shadow-lg z-50 ${n==="error"?"bg-error":"bg-success"} text-background`,t.textContent=a,document.body.appendChild(t),setTimeout(()=>{t.remove()},3e3)}function qt(){document.querySelectorAll("[data-product-form]").forEach(n=>{Lt(n)})}function Lt(a){a.querySelectorAll('select[name^="options"]').forEach(t=>{t.addEventListener("change",()=>{K(a)})}),K(a)}function K(a){Array.from(a.querySelectorAll('select[name^="options"]')).map(e=>e.value);const n=a.querySelector('input[name="id"]'),t=a.querySelector('button[type="submit"]');t&&n&&(t.disabled=!n.value)}if(typeof customElements<"u"){class a extends HTMLElement{connectedCallback(){this.render(),this.attachEventListeners()}render(){const t=this.dataset.product;if(t)try{const e=JSON.parse(t)}catch(e){console.error("Error rendering product card:",e)}}attachEventListeners(){const t=this.querySelector("[data-add-to-cart]");t&&t.addEventListener("click",e=>{e.preventDefault(),this.handleAddToCart()})}async handleAddToCart(){const t=this.dataset.productId,e=this.dataset.quantity||1;try{if(!(await fetch("/cart/add.js",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({id:t,quantity:parseInt(e)})})).ok)throw new Error("Failed to add to cart");this.dispatchEvent(new CustomEvent("product-added-to-cart",{bubbles:!0,detail:{productId:t,quantity:e}}))}catch(r){console.error("Add to cart error:",r)}}}customElements.get("product-card")||customElements.define("product-card",a)}function It(){kt(),Tt(),At()}function kt(){const a=document.querySelector("[data-mobile-menu-toggle]"),n=document.querySelector("[data-mobile-close]"),t=document.querySelector("[data-mobile-drawer]"),e=document.querySelector("[data-mobile-backdrop]");if(!a||!t)return;const r=()=>{t.hidden=!1,a.setAttribute("aria-expanded","true"),document.body.style.overflow="hidden",setTimeout(()=>{n&&n.focus()},100)},s=()=>{t.hidden=!0,a.setAttribute("aria-expanded","false"),document.body.style.overflow="",a.focus()};a.addEventListener("click",r),n&&n.addEventListener("click",s),e&&e.addEventListener("click",s),document.addEventListener("keydown",i=>{i.key==="Escape"&&!t.hidden&&s()}),t.querySelectorAll("a").forEach(i=>{i.addEventListener("click",()=>{setTimeout(s,150)})})}function Tt(){const a=document.querySelector("[data-header]");if(!a)return;let n=!1;const t=()=>{window.scrollY>50?a.classList.add("is-scrolled"):a.classList.remove("is-scrolled"),n=!1};window.addEventListener("scroll",()=>{n||(window.requestAnimationFrame(t),n=!0)},{passive:!0}),t()}function At(){document.querySelector("[data-cart-count]")&&document.addEventListener("cart:updated",n=>{const{itemCount:t}=n.detail;Dt(t)})}function Dt(a){document.querySelectorAll("[data-cart-count]").forEach(t=>{t.textContent=a,t.style.display=a>0?"flex":"none",a>0&&(t.style.animation="none",setTimeout(()=>{t.style.animation="cartCountPulse 0.3s cubic-bezier(0.4, 0, 0.2, 1)"},10))})}if(typeof document<"u"&&!document.querySelector("#cart-count-animation")){const a=document.createElement("style");a.id="cart-count-animation",a.textContent=`
    @keyframes cartCountPulse {
      0%, 100% { transform: scale(1); }
      50% { transform: scale(1.15); }
    }
  `,document.head.appendChild(a)}var k,Y,X,Z;class L extends HTMLElement{constructor(){super(...arguments);p(this,k);C(this,"refs",{});C(this,"requiredRefs",[])}connectedCallback(){$t(),c(this,k,Y).call(this),c(this,k,X).call(this)}disconnectedCallback(){}$(t){return this.querySelector(t)}$$(t){return this.querySelectorAll(t)}emit(t,e,r=!0){const s=new CustomEvent(t,{detail:e,bubbles:r,composed:!0});this.dispatchEvent(s)}announceToScreenReader(t,e="polite"){const r=c(this,k,Z).call(this,e);r.textContent=t,setTimeout(()=>{r.textContent=""},1e3)}debounce(t,e){let r;return(...s)=>{clearTimeout(r),r=setTimeout(()=>t.apply(this,s),e)}}throttle(t,e){let r;return(...s)=>{r||(t.apply(this,s),r=!0,setTimeout(()=>r=!1,e))}}}k=new WeakSet,Y=function(){const t=this.querySelectorAll("[ref]");this.refs={},t.forEach(e=>{const r=e.getAttribute("ref");if(r)if(r.endsWith("[]")){const s=r.slice(0,-2);this.refs[s]||(this.refs[s]=[]),this.refs[s].push(e)}else this.refs[r]=e})},X=function(){if(!this.requiredRefs||this.requiredRefs.length===0)return;const t=this.requiredRefs.filter(e=>!this.refs[e]);t.length>0&&console.error(`Missing required refs in ${this.constructor.name}:`,t)},Z=function(t){const e=`[data-live-region="${t}"]`;let r=document.querySelector(e);return r||(r=document.createElement("div"),r.setAttribute("data-live-region",t),r.setAttribute("aria-live",t),r.setAttribute("aria-atomic","true"),r.className="sr-only",document.body.appendChild(r)),r};function Mt(a){let n=a.parentElement;for(;n;){if(n instanceof L)return n;n=n.parentElement}return null}let W=!1;function $t(){if(W)return;W=!0;const a=["click","change","select","focus","blur","submit","input","keydown","keyup"],n=["focus","blur"];for(const t of a){const e=`on:${t}`;document.addEventListener(t,r=>{const s=Ft(r,t,n);if(!s)return;const i=(s.getAttribute(e)??"").split("/").filter(Boolean);if(i.length===0)return;let d=null,l=i[0],m=i.slice(1);(l.includes(".")||l.startsWith("#")||l.startsWith("["))&&(d=l,l=i[1],m=i.slice(2));const h=d?d.startsWith("#")?document.querySelector(d):s.closest(d):Mt(s);if(!(h instanceof L)||!l)return;const g=h[l];if(typeof g=="function")try{g.call(h,r,...m)}catch(T){console.error(`Error calling ${l} on ${h.constructor.name}:`,T)}else console.error(`Method ${l} not found on component ${h.constructor.name}`)},{capture:!0})}}function Ft(a,n,t){var r;const e=((r=a.composedPath)==null?void 0:r.call(a)[0])??a.target;return e instanceof Element?e.hasAttribute(`on:${n}`)?e:a.bubbles||t.includes(n)?e.closest(`[on\\:${n}]`):null:null}var F,tt,Ot;class Rt extends L{constructor(){super(...arguments);p(this,F);C(this,"requiredRefs",["addToCartButton"])}connectedCallback(){super.connectedCallback()}enable(){this.refs.addToCartButton&&(this.refs.addToCartButton.disabled=!1)}disable(){this.refs.addToCartButton&&(this.refs.addToCartButton.disabled=!0)}handleClick(t){const e=this.closest("form");if(!(e!=null&&e.checkValidity()))return;const r=e.querySelector("quantity-selector-component");if(r!=null&&r.canAddToCart&&!r.canAddToCart().canAdd)return;this.animateAddToCart(),this.dataset.addToCartAnimation==="true"&&!t.target.closest(".quick-add-modal")&&c(this,F,tt).call(this)}animateAddToCart(){const t=this.refs.addToCartButton;t&&(t.classList.add("adding-to-cart"),t.setAttribute("aria-busy","true"),setTimeout(()=>{t.classList.remove("adding-to-cart"),t.classList.add("added-to-cart"),t.setAttribute("aria-busy","false"),this.announceToScreenReader("Item added to cart"),setTimeout(()=>{t.classList.remove("added-to-cart")},2e3)},1e3))}}F=new WeakSet,tt=function(){var d;const t=this.dataset.productVariantMedia;if(!t)return;const e=document.querySelector("[data-cart-icon]")||document.querySelector(".cart-link")||document.querySelector('[href="/cart"]');if(!e)return;const r=document.createElement("img");r.src=t,r.className="flying-product-image",r.style.cssText=`
      position: fixed;
      width: 80px;
      height: 80px;
      object-fit: cover;
      border-radius: 8px;
      z-index: 9999;
      pointer-events: none;
      box-shadow: 0 4px 12px rgba(0,0,0,0.15);
    `;const s=((d=this.closest(".product"))==null?void 0:d.querySelector("img"))||this.refs.addToCartButton,o=s==null?void 0:s.getBoundingClientRect(),i=e.getBoundingClientRect();!o||!i||(r.style.left=`${o.left+o.width/2-40}px`,r.style.top=`${o.top+o.height/2-40}px`,r.style.opacity="1",r.style.transform="scale(1)",r.style.transition="all 0.8s cubic-bezier(0.25, 0.46, 0.45, 0.94)",document.body.appendChild(r),requestAnimationFrame(()=>{r.style.left=`${i.left+i.width/2-40}px`,r.style.top=`${i.top+i.height/2-40}px`,r.style.transform="scale(0.2)",r.style.opacity="0"}),setTimeout(()=>{r.remove(),e.classList.add("cart-pulse"),setTimeout(()=>e.classList.remove("cart-pulse"),600)},800))},Ot=function(){const t=this.dataset.productVariantMedia;if(!t)return;const e=new Image;e.src=t};customElements.get("add-to-cart-component")||customElements.define("add-to-cart-component",Rt);const v={cartUpdate:"theme:cart:update",cartAdd:"theme:cart:add",quantitySelectorUpdate:"theme:quantity-selector:update",discountUpdate:"theme:discount:update",variantChange:"theme:variant:change",variantSelected:"theme:variant:selected",variantUpdate:"theme:variant:update"};function jt(a){return new CustomEvent(v.cartUpdate,{detail:a,bubbles:!0,composed:!0})}function Pt(a){return new CustomEvent(v.quantitySelectorUpdate,{detail:a,bubbles:!0,composed:!0})}function Bt(a){return new CustomEvent(v.cartAdd,{detail:a,bubbles:!0,composed:!0})}function et(a="POST",n=null){const t={method:a,headers:{"Content-Type":"application/json",Accept:"application/json"}};return n&&a!=="GET"&&(t.body=JSON.stringify(n)),t}async function G(){try{const a=await fetch("/cart.js");if(!a.ok)throw new Error(`Failed to fetch cart: ${a.status}`);return await a.json()}catch(a){throw console.error("Error fetching cart:",a),a}}async function Ut(a){var n;try{const t=await fetch("/cart/add.js",et("POST",{items:[a]}));if(!t.ok){const r=await t.json();throw new Error(r.description||"Failed to add item to cart")}const e=await t.json();return((n=e.items)==null?void 0:n[0])||e}catch(t){throw console.error("Error adding to cart:",t),t}}async function rt(a,n){try{const e=await fetch("/cart/change.js",et("POST",{line:a,quantity:n}));if(!e.ok){const r=await e.json();throw new Error(r.description||"Failed to update cart item")}return await e.json()}catch(t){throw console.error("Error updating cart item:",t),t}}async function _t(a){return rt(a,0)}var R,b,nt,_,O,j,at,st;class Qt extends L{constructor(){super(...arguments);p(this,b);C(this,"requiredRefs",["variantId","liveRegion"]);p(this,R,null);p(this,O,async t=>{var d,l,m;const{detail:e}=t;if(e.productId&&e.productId!==this.dataset.productId)return;const{variantId:r,addToCartButtonContainer:s}=this.refs,o=e.variant;if(r.value=(o==null?void 0:o.id)??"",s&&(!o||!o.available?s.disable():s.enable(),(l=(d=o==null?void 0:o.featured_media)==null?void 0:d.preview_image)!=null&&l.src)){const h=o.featured_media.preview_image.src+"&width=100";s.setAttribute("data-product-variant-media",h)}const i=this.querySelector("quantity-selector-component");if(i&&o){const h=i.refs.quantityInput;h&&(o.inventory_management&&o.inventory_policy==="deny"?h.max=o.inventory_quantity.toString():h.removeAttribute("max"),(m=i.updateButtonStates)==null||m.call(i))}await c(this,b,_).call(this)});p(this,j,()=>{var t;(t=this.refs.addToCartButtonContainer)==null||t.disable()})}connectedCallback(){super.connectedCallback(),this.addEventListener(v.variantUpdate,f(this,O)),this.addEventListener(v.variantSelected,f(this,j)),c(this,b,_).call(this)}disconnectedCallback(){super.disconnectedCallback(),this.removeEventListener(v.variantUpdate,f(this,O)),this.removeEventListener(v.variantSelected,f(this,j)),f(this,R)&&f(this,R).abort()}async handleSubmit(t){var l,m,h,g,T,U;t.preventDefault();const{addToCartTextError:e,addToCartButtonContainer:r}=this.refs,s=t.target;if(!s.checkValidity()){s.reportValidity();return}r==null||r.disable();const o=new FormData(s),i=o.get("id"),d=parseInt(((l=o.get("quantity"))==null?void 0:l.toString())||"1",10);if(!i){console.error("No variant ID found"),r==null||r.enable();return}try{const A=c(this,b,nt).call(this),yt=await Ut({id:i.toString(),quantity:d,sections:A.join(","),sections_url:window.location.pathname});e&&(e.classList.add("hidden"),e.removeAttribute("aria-live"));const vt=((T=(g=(h=(m=this.refs.addToCartButtonContainer)==null?void 0:m.refs.addToCartButton)==null?void 0:h.querySelector(".add-to-cart-text--added"))==null?void 0:g.textContent)==null?void 0:T.trim())||"Added to cart";c(this,b,at).call(this,vt),setTimeout(()=>{c(this,b,st).call(this)},3e3),await c(this,b,_).call(this),document.dispatchEvent(Bt({item:(U=yt.items)==null?void 0:U[0],quantity:d}))}catch(A){console.error("Failed to add to cart:",A),e&&(e.textContent=A.message||"Failed to add to cart. Please try again.",e.classList.remove("hidden"),e.setAttribute("aria-live","polite")),this.announceToScreenReader("Failed to add to cart. Please try again.")}finally{r==null||r.enable()}}}R=new WeakMap,b=new WeakSet,nt=function(){const t=[],e=document.querySelector("cart-drawer-component");return e!=null&&e.dataset.sectionId&&t.push(e.dataset.sectionId),t},_=async function(){var e,r,s;const t=this.refs.variantId.value;if(t)try{const i=await(await fetch(((r=(e=window.Shopify)==null?void 0:e.routes)==null?void 0:r.root)+"cart.js")).json();let d=0;for(const h of i.items)h.variant_id.toString()===t&&(d+=h.quantity);const l=this.querySelector("quantity-selector-component");if(l){const h=l.refs.quantityInput;h&&(h.setAttribute("data-cart-quantity",d.toString()),(s=l.updateCartQuantity)==null||s.call(l))}const m=this.querySelector(".quantity-label");if(m&&d>0){const h=`${d} in cart`;m.textContent=h,m.classList.remove("hidden")}else m&&m.classList.add("hidden")}catch(o){console.error("Failed to fetch cart quantity:",o)}},O=new WeakMap,j=new WeakMap,at=function(t){this.refs.liveRegion&&(this.refs.liveRegion.textContent=t)},st=function(){this.refs.liveRegion&&(this.refs.liveRegion.textContent="")};customElements.get("product-form-component")||customElements.define("product-form-component",Qt);function Vt(a,n){if(!a){console.error("morphSection: target element not found");return}const r=new DOMParser().parseFromString(n,"text/html").querySelector(a.tagName.toLowerCase()+(a.id?`#${a.id}`:"")+(a.className?`.${a.className.split(" ")[0]}`:""));if(!r){console.error("morphSection: new element not found in HTML");return}a.innerHTML=r.innerHTML;const s=new CustomEvent("section:morphed",{detail:{element:a},bubbles:!0});a.dispatchEvent(s)}var $,E,y,Q,ot,H,it,ct;class Nt extends L{constructor(){super(...arguments);p(this,y);p(this,$,null);p(this,E,null)}connectedCallback(){super.connectedCallback(),c(this,y,Q).call(this),this.addEventListener("change",c(this,y,ot).bind(this))}disconnectedCallback(){super.disconnectedCallback(),f(this,E)&&f(this,E).abort()}updateVariantPicker(t){const e=t.querySelector("variant-selector-component");e&&(this.innerHTML=e.innerHTML,c(this,y,Q).call(this))}updateSelectedOption(t){const e=this.querySelector(`input[data-option-value-id="${t}"]`);if(e instanceof HTMLInputElement){e.checked=!0,c(this,y,H).call(this,e);return}const r=this.querySelector("select");if(r){const s=r.querySelector(`option[data-option-value-id="${t}"]`);s instanceof HTMLOptionElement&&(r.value=s.value)}}}$=new WeakMap,E=new WeakMap,y=new WeakSet,Q=function(){const t=this.querySelector('[type="application/json"]');if(t)try{this.productData=JSON.parse(t.textContent)}catch(e){console.error("Failed to parse product data:",e)}},ot=async function(t){const e=t.target;if(!(e instanceof HTMLElement))return;const r=e instanceof HTMLSelectElement?e.options[e.selectedIndex]:e;if(!r)return;c(this,y,H).call(this,e),this.dispatchEvent(new CustomEvent(v.variantSelected,{detail:{optionValueId:r.dataset.optionValueId||"",source:"variant-selector-component"},bubbles:!0,composed:!0}));const s=this.dataset.productPage==="true"&&!this.closest("product-card")&&!this.closest("quick-add-dialog"),o=c(this,y,it).call(this,r);if(await c(this,y,ct).call(this,o),s){const i=r.dataset.variantId,d=new URL(window.location.href);i?d.searchParams.set("variant",i):d.searchParams.delete("variant"),d.href!==window.location.href&&history.replaceState({},"",d.toString())}},H=function(t){var e;if(t instanceof HTMLInputElement&&t.type==="radio"){const r=t.closest(".variant-input");if(r){const s=(e=r.parentElement)==null?void 0:e.querySelectorAll(".variant-input");s==null||s.forEach(o=>o.classList.remove("selected")),r.classList.add("selected")}}},it=function(t){var i;const e=(i=this.dataset.productUrl)==null?void 0:i.split("?")[0];if(!e)return"";const r=new URL(e,window.location.origin),s=t.dataset.variantId;s&&r.searchParams.set("variant",s);const o=this.dataset.sectionId;return o&&r.searchParams.set("section_id",o),r.href},ct=async function(t){if(t&&(f(this,E)&&f(this,E).abort(),w(this,E,new AbortController),f(this,$)!==t)){w(this,$,t);try{const e=await fetch(t,{signal:f(this,E).signal});if(!e.ok)throw new Error(`HTTP error! status: ${e.status}`);const r=await e.text(),o=new DOMParser().parseFromString(r,"text/html"),i=o.querySelector("variant-selector-component"),d=i==null?void 0:i.querySelector('[type="application/json"]');if(d)try{const m=JSON.parse(d.textContent).selected_or_first_available_variant;this.dispatchEvent(new CustomEvent(v.variantUpdate,{detail:{variant:m,productId:this.dataset.productId,html:o,source:"variant-selector-component"},bubbles:!0,composed:!0}))}catch(l){console.error("Failed to parse variant data:",l)}i&&(this.innerHTML=i.innerHTML,c(this,y,Q).call(this))}catch(e){if(e.name==="AbortError"){console.log("Variant fetch aborted");return}console.error("Failed to fetch variant:",e)}finally{w(this,$,null),w(this,E,null)}}};customElements.get("variant-selector-component")||customElements.define("variant-selector-component",Nt);var D,u,dt,P,lt,x,I,ut,ht,zt;class Ht extends L{constructor(){super(...arguments);p(this,u);C(this,"currentIndex",0);p(this,D,null);p(this,P,t=>{const{variant:e}=t.detail;if(!e||!e.featured_media)return;const r=c(this,u,lt).call(this,e.featured_media.id);r!==-1&&(c(this,u,x).call(this,r),c(this,u,I).call(this,r))})}connectedCallback(){super.connectedCallback(),c(this,u,dt).call(this),document.addEventListener(v.variantUpdate,f(this,P)),c(this,u,ht).call(this)}disconnectedCallback(){super.disconnectedCallback(),document.removeEventListener(v.variantUpdate,f(this,P)),f(this,D)&&f(this,D).disconnect()}selectSlide(t,e){e==null||e.preventDefault(),c(this,u,x).call(this,parseInt(t,10)),c(this,u,I).call(this,parseInt(t,10))}previousSlide(t){var r;t==null||t.preventDefault();const e=this.currentIndex>0?this.currentIndex-1:(((r=this.refs.slides)==null?void 0:r.length)||1)-1;c(this,u,x).call(this,e),c(this,u,I).call(this,e)}nextSlide(t){var r;t==null||t.preventDefault();const e=this.currentIndex<(((r=this.refs.slides)==null?void 0:r.length)||1)-1?this.currentIndex+1:0;c(this,u,x).call(this,e),c(this,u,I).call(this,e)}}D=new WeakMap,u=new WeakSet,dt=function(){this.refs.slides&&this.refs.slides.length>0&&c(this,u,x).call(this,0),this.addEventListener("keydown",c(this,u,ut).bind(this))},P=new WeakMap,lt=function(t){return this.refs.slides?this.refs.slides.findIndex(e=>{const r=e.dataset.mediaId;return r&&r===t.toString()}):-1},x=function(t){!this.refs.slides||t<0||t>=this.refs.slides.length||(this.currentIndex=t,this.refs.slides.forEach((e,r)=>{r===t?(e.classList.add("active"),e.removeAttribute("inert"),e.setAttribute("aria-hidden","false")):(e.classList.remove("active"),e.setAttribute("inert",""),e.setAttribute("aria-hidden","true"))}),this.refs.thumbnails&&this.refs.thumbnails.forEach((e,r)=>{r===t?(e.classList.add("active"),e.setAttribute("aria-current","true")):(e.classList.remove("active"),e.removeAttribute("aria-current"))}),this.announceToScreenReader(`Image ${t+1} of ${this.refs.slides.length}`))},I=function(t){if(!this.refs.slides||t<0||t>=this.refs.slides.length)return;const e=this.refs.slides[t],r=e.parentElement;r&&r.scrollTo({left:e.offsetLeft,behavior:"smooth"})},ut=function(t){var e;switch(t.key){case"ArrowLeft":t.preventDefault(),this.previousSlide(t);break;case"ArrowRight":t.preventDefault(),this.nextSlide(t);break;case"Home":t.preventDefault(),c(this,u,x).call(this,0),c(this,u,I).call(this,0);break;case"End":t.preventDefault();const r=(((e=this.refs.slides)==null?void 0:e.length)||1)-1;c(this,u,x).call(this,r),c(this,u,I).call(this,r);break}},ht=function(){"ResizeObserver"in window&&(w(this,D,new ResizeObserver(()=>{c(this,u,I).call(this,this.currentIndex)})),f(this,D).observe(this))},zt=function(){if(!("IntersectionObserver"in window)||!this.refs.slides)return;const t={root:this.querySelector(".slides-container"),threshold:.5},e=new IntersectionObserver(r=>{r.forEach(s=>{var o;if(s.isIntersecting){const i=(o=this.refs.slides)==null?void 0:o.indexOf(s.target);i!==void 0&&i!==-1&&c(this,u,x).call(this,i)}})},t);this.refs.slides.forEach(r=>e.observe(r))};customElements.get("product-gallery-component")||customElements.define("product-gallery-component",Ht);var B,M,S,q,ft,z,mt;class Jt extends L{constructor(){super(...arguments);p(this,q);p(this,B,this.debounce(c(this,q,ft).bind(this),300));p(this,M,!1);p(this,S,null)}connectedCallback(){super.connectedCallback(),document.addEventListener(v.quantitySelectorUpdate,f(this,B))}disconnectedCallback(){super.disconnectedCallback(),document.removeEventListener(v.quantitySelectorUpdate,f(this,B)),f(this,S)&&f(this,S).abort()}async onLineItemRemove(t){var r;await this.updateQuantity({line:t,quantity:0,action:"clear"});const e=(r=this.refs.cartItemRows)==null?void 0:r[t-1];e&&(e.classList.add("removing","opacity-50"),setTimeout(()=>{e.remove()},300))}async updateQuantity({line:t,quantity:e,action:r}){var o,i,d;if(f(this,M)){console.log("[CartItems] Update already in progress, skipping");return}w(this,M,!0),f(this,S)&&f(this,S).abort(),w(this,S,new AbortController);const s=this.dataset.sectionId;if(!s){console.error("[CartItems] No section ID found"),w(this,M,!1);return}try{c(this,q,z).call(this,t,!0);const l={line:t,quantity:e,sections:s,sections_url:window.location.pathname},m=((i=(o=window.Shopify)==null?void 0:o.routes)==null?void 0:i.root)||"/",h=await fetch(`${m}cart/change.js`,{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify(l),signal:f(this,S).signal});if(!h.ok){const A=await h.json();throw new Error(A.description||A.message||"Failed to update cart")}const g=await h.json();if(g.errors)throw new Error(g.errors);const T=(d=g.sections)==null?void 0:d[s];T&&Vt(this,T),document.dispatchEvent(jt({cart:g,itemCount:g.item_count,source:"cart-items-component"}));const U=e===0?"Item removed from cart":"Cart updated";this.announceToScreenReader(U)}catch(l){if(l.name==="AbortError"){console.log("[CartItems] Request was cancelled");return}console.error("[CartItems] Cart update error:",l),c(this,q,mt).call(this,l.message||"Failed to update cart. Please try again."),this.announceToScreenReader("Failed to update cart. Please try again.")}finally{w(this,M,!1),c(this,q,z).call(this,t,!1),w(this,S,null)}}}B=new WeakMap,M=new WeakMap,S=new WeakMap,q=new WeakSet,ft=async function(t){const{quantity:e,cartLine:r}=t.detail;if(r){if(e===0)return this.onLineItemRemove(r);await this.updateQuantity({line:r,quantity:e,action:"change"})}},z=function(t,e){var s;const r=(s=this.refs.cartItemRows)==null?void 0:s[t-1];r&&(e?(r.classList.add("loading","opacity-50","pointer-events-none"),r.setAttribute("aria-busy","true")):(r.classList.remove("loading","opacity-50","pointer-events-none"),r.setAttribute("aria-busy","false")))},mt=function(t){const e=this.querySelector("[data-cart-error]");e&&(e.textContent=t,e.classList.remove("hidden"),e.setAttribute("role","alert"),setTimeout(()=>{e.classList.add("hidden"),e.removeAttribute("role")},5e3))};customElements.get("cart-items-component")||customElements.define("cart-items-component",Jt);class Kt extends L{constructor(){super(),this.isOpen=!1,this.focusableElements=[],this.previousFocus=null}connectedCallback(){super.connectedCallback(),document.addEventListener("cart:item-added",this.handleCartUpdate.bind(this)),document.addEventListener("cart:updated",this.handleCartUpdate.bind(this)),document.addEventListener("cart:open-drawer",this.open.bind(this)),this.attachEventListeners()}attachEventListeners(){const n=this.querySelector("[data-drawer-close]");n==null||n.addEventListener("click",this.close.bind(this));const t=this.querySelector("[data-drawer-backdrop]");t==null||t.addEventListener("click",this.close.bind(this)),this.addEventListener("change",this.handleQuantityChange.bind(this)),this.addEventListener("click",e=>{const r=e.target.closest("[data-drawer-remove]");if(r){e.preventDefault();const s=r.dataset.drawerRemove;this.removeItem(s)}}),this.addEventListener("keydown",this.handleKeyboard.bind(this))}async open(){this.isOpen||(this.isOpen=!0,this.previousFocus=document.activeElement,await this.refreshCartData(),this.classList.add("active"),this.setAttribute("aria-hidden","false"),document.body.style.overflow="hidden",setTimeout(()=>{const n=this.querySelector("[data-drawer-close]");n==null||n.focus()},100),this.updateFocusableElements(),this.announceToScreenReader("Shopping cart opened"))}close(){this.isOpen&&(this.isOpen=!1,this.classList.remove("active"),this.setAttribute("aria-hidden","true"),document.body.style.overflow="",this.previousFocus&&this.previousFocus.focus(),this.announceToScreenReader("Shopping cart closed"))}async handleCartUpdate(n){n.type==="cart:item-added"?(await this.refreshCartData(),this.open()):await this.refreshCartData()}async refreshCartData(){try{const n=await G();this.renderCart(n)}catch(n){console.error("Failed to refresh cart:",n)}}renderCart(n){var i;const t=this.querySelector("[data-drawer-items]"),e=this.querySelector("[data-drawer-empty]"),r=this.querySelector("[data-drawer-content]"),s=this.querySelector("[data-drawer-subtotal]"),o=this.querySelector("[data-drawer-count]");if(t){if(o&&(o.textContent=n.item_count),n.item_count===0){e==null||e.classList.remove("hidden"),r==null||r.classList.add("hidden");return}if(e==null||e.classList.add("hidden"),r==null||r.classList.remove("hidden"),t.innerHTML=n.items.map(d=>this.renderCartItem(d)).join(""),s){const d=((i=window.Shopify)==null?void 0:i.formatMoney)||(l=>`$${(l/100).toFixed(2)}`);s.textContent=d(n.total_price)}}}renderCartItem(n){var e;const t=((e=window.Shopify)==null?void 0:e.formatMoney)||(r=>`$${(r/100).toFixed(2)}`);return`
      <div class="cart-drawer-item flex gap-3 p-4 bg-background rounded-lg border border-border shadow-sm transition-all" data-cart-item="${n.key}">
        ${n.image?`
          <a href="${n.url}" class="flex-shrink-0 group">
            <img 
              src="${n.image}" 
              alt="${n.title}"
              class="w-20 h-20 object-cover rounded-lg group-hover:opacity-90 transition-opacity"
              loading="lazy"
            >
          </a>
        `:""}
        
        <div class="flex-grow min-w-0">
          <h4 class="font-semibold text-sm mb-1 text-text">
            <a href="${n.url}" class="hover:text-primary transition-colors line-clamp-2">${n.product_title}</a>
          </h4>
          
          ${n.variant_title.includes("Default")?"":`
            <p class="text-xs text-text-secondary mb-2">${n.variant_title}</p>
          `}
          
          <div class="flex items-center justify-between gap-2 mt-3">
            <div class="flex items-center border border-border rounded-lg overflow-hidden">
              <button
                type="button"
                class="w-8 h-8 flex items-center justify-center hover:bg-border/20 text-text-secondary transition-colors"
                data-drawer-quantity-minus="${n.key}"
                aria-label="Decrease quantity"
              >
                <svg class="w-3 h-3" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M20 12H4"></path>
                </svg>
              </button>
              
              <input
                type="number"
                class="w-10 h-8 text-center border-0 border-x border-border text-sm font-medium text-text bg-background"
                value="${n.quantity}"
                min="0"
                data-drawer-quantity-input="${n.key}"
                aria-label="Quantity"
              >
              
              <button
                type="button"
                class="w-8 h-8 flex items-center justify-center hover:bg-border/20 text-text-secondary transition-colors"
                data-drawer-quantity-plus="${n.key}"
                aria-label="Increase quantity"
              >
                <svg class="w-3 h-3" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 4v16m8-8H4"></path>
                </svg>
              </button>
            </div>
            
            <span class="font-bold text-sm text-text">${t(n.final_line_price)}</span>
          </div>
        </div>
        
        <button
          type="button"
          class="flex-shrink-0 w-7 h-7 flex items-center justify-center text-text-secondary/60 hover:text-error hover:bg-error/10 rounded-lg transition-all"
          data-drawer-remove="${n.key}"
          aria-label="Remove ${n.product_title}"
        >
          <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path>
          </svg>
        </button>
      </div>
    `}async handleQuantityChange(n){const t=n.target;if(!t.matches("[data-drawer-quantity-input]"))return;const e=t.dataset.drawerQuantityInput,r=parseInt(t.value,10);isNaN(r)||r<0||await this.updateQuantity(e,r)}async updateQuantity(n,t){try{const e=this.querySelector(`[data-cart-item="${n}"]`);e==null||e.classList.add("opacity-50","pointer-events-none"),await rt(n,t),await this.refreshCartData(),this.updateCartBadge()}catch(e){console.error("Failed to update quantity:",e),await this.refreshCartData()}}async removeItem(n){try{const t=this.querySelector(`[data-cart-item="${n}"]`);t==null||t.classList.add("opacity-50","pointer-events-none"),await _t(n),await this.refreshCartData(),this.updateCartBadge(),this.announceToScreenReader("Item removed from cart")}catch(t){console.error("Failed to remove item:",t),await this.refreshCartData()}}async updateCartBadge(){try{const n=await G();document.querySelectorAll("[data-cart-count-badge]").forEach(e=>{e.textContent=n.item_count,e.classList.toggle("hidden",n.item_count===0)})}catch(n){console.error("Failed to update cart badge:",n)}}handleKeyboard(n){if(n.key==="Escape"){this.close();return}n.key==="Tab"&&this.isOpen&&this.handleTabKey(n)}handleTabKey(n){if(this.updateFocusableElements(),this.focusableElements.length===0)return;const t=this.focusableElements[0],e=this.focusableElements[this.focusableElements.length-1];n.shiftKey?document.activeElement===t&&(n.preventDefault(),e.focus()):document.activeElement===e&&(n.preventDefault(),t.focus())}updateFocusableElements(){const n='a[href], button:not([disabled]), input:not([disabled]), select:not([disabled]), textarea:not([disabled]), [tabindex]:not([tabindex="-1"])';this.focusableElements=Array.from(this.querySelectorAll(n))}disconnectedCallback(){super.disconnectedCallback(),this.isOpen&&(document.body.style.overflow=""),document.removeEventListener("cart:item-added",this.handleCartUpdate),document.removeEventListener("cart:updated",this.handleCartUpdate),document.removeEventListener("cart:open-drawer",this.open)}}customElements.get("cart-drawer-component")||customElements.define("cart-drawer-component",Kt);class pt extends L{constructor(){super(...arguments);C(this,"requiredRefs",["quantityInput","minusButton","plusButton"]);C(this,"serverDisabledMinus",!1);C(this,"serverDisabledPlus",!1);C(this,"initialized",!1)}connectedCallback(){super.connectedCallback();const{minusButton:t,plusButton:e}=this.refs;t&&t.disabled&&(this.serverDisabledMinus=!0),e&&e.disabled&&(this.serverDisabledPlus=!0),this.initialized=!0,this.updateButtonStates()}decreaseQuantity(t){t==null||t.preventDefault();const{min:e,value:r,step:s}=this.getCurrentValues(),o=Math.max(e,r-s);o!==r&&this.setQuantity(o)}increaseQuantity(t){t==null||t.preventDefault();const{value:e,step:r}=this.getCurrentValues(),s=this.getEffectiveMax(),o=e+r;(s===null||o<=s)&&this.setQuantity(o)}setQuantity(t){const{quantityInput:e}=this.refs,{min:r}=this.getCurrentValues(),s=this.getEffectiveMax();let o=Math.max(r,t);s!==null&&(o=Math.min(o,s)),e.value=o.toString(),this.updateButtonStates();const i=e.getAttribute("data-cart-line");document.dispatchEvent(Pt({quantity:o,cartLine:i?parseInt(i,10):void 0,variantId:this.dataset.variantId}))}validateQuantity(t){const{quantityInput:e}=this.refs,r=parseInt(e.value,10);isNaN(r)||this.setQuantity(r)}selectInputValue(t){const{quantityInput:e}=this.refs;e.select()}getCurrentValues(){const{quantityInput:t}=this.refs;return{min:parseInt(t.min)||1,max:t.max?parseInt(t.max):null,step:parseInt(t.step)||1,value:parseInt(t.value)||0,cartQuantity:parseInt(t.getAttribute("data-cart-quantity")||"0")}}getEffectiveMax(){const{max:t,cartQuantity:e,min:r}=this.getCurrentValues();return t===null?null:Math.max(t-e,r)}updateButtonStates(){if(!this.initialized)return;const{minusButton:t,plusButton:e}=this.refs;if(!t||!e)return;const{min:r,value:s}=this.getCurrentValues(),o=this.getEffectiveMax();this.serverDisabledMinus||(t.disabled=s<=r),this.serverDisabledPlus||(e.disabled=o!==null&&s>=o)}updateCartQuantity(){this.updateButtonStates()}}customElements.get("quantity-selector-component")||customElements.define("quantity-selector-component",pt);class Wt extends pt{getEffectiveMax(){const{max:n}=this.getCurrentValues();return n}updateButtonStates(){if(!this.initialized)return;const{minusButton:n,plusButton:t}=this.refs;if(!n||!t)return;const{min:e,value:r}=this.getCurrentValues(),s=this.getEffectiveMax();n.disabled=r<=e,t.disabled=s!==null&&r>=s}}customElements.get("cart-quantity-selector-component")||customElements.define("cart-quantity-selector-component",Wt);function Gt(a){typeof window<"u"&&(window.theme=window.theme||{},window.theme.moneyFormat=a.moneyFormat||"${{amount}}")}document.addEventListener("DOMContentLoaded",()=>{console.log("Minimal Shopify Theme loaded"),window.Shopify&&window.Shopify.money_format&&Gt({moneyFormat:window.Shopify.money_format}),wt(),qt(),It(),document.addEventListener("cart:item-added",a=>{console.log("Item added to cart:",a.detail)}),document.addEventListener("cart:updated",a=>{console.log("Cart updated:",a.detail)}),document.addEventListener("cart:error",a=>{console.error("Cart error:",a.detail)})});
