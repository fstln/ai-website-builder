var Ct=Object.defineProperty;var K=s=>{throw TypeError(s)};var Et=(s,n,t)=>n in s?Ct(s,n,{enumerable:!0,configurable:!0,writable:!0,value:t}):s[n]=t;var w=(s,n,t)=>Et(s,typeof n!="symbol"?n+"":n,t),H=(s,n,t)=>n.has(s)||K("Cannot "+t);var m=(s,n,t)=>(H(s,n,"read from private field"),t?t.call(s):n.get(s)),y=(s,n,t)=>n.has(s)?K("Cannot add the same private member more than once"):n instanceof WeakSet?n.add(s):n.set(s,t),C=(s,n,t,e)=>(H(s,n,"write to private field"),e?e.call(s,t):n.set(s,t),t),c=(s,n,t)=>(H(s,n,"access private method"),t);function St(){document.querySelector("[data-cart-icon]"),document.querySelector("[data-cart-count]");const s=document.querySelector("[data-cart-form]");s&&Lt(s),document.addEventListener("submit",async n=>{n.target.matches("[data-product-form]")&&(n.preventDefault(),await xt(n.target))}),document.addEventListener("click",async n=>{const t=n.target.closest("[data-cart-remove]");if(t){n.preventDefault();const e=t.dataset.cartRemove;await qt(e)}})}async function xt(s){const n=new FormData(s);try{const t=await fetch("/cart/add.js",{method:"POST",body:n});if(!t.ok)throw new Error("Failed to add to cart");const e=await t.json();return await It(),V("Item added to cart"),e}catch(t){console.error("Add to cart error:",t),V("Failed to add item. Please try again.","error")}}async function qt(s){try{if(!(await fetch("/cart/change.js",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({id:s,quantity:0})})).ok)throw new Error("Failed to remove from cart");window.location.reload()}catch(n){console.error("Remove from cart error:",n),V("Failed to remove item. Please try again.","error")}}function Lt(s){s.querySelectorAll("[data-quantity-input]").forEach(t=>{t.addEventListener("change",()=>{var e;(e=s.querySelector('[name="update"]'))==null||e.click()})})}async function It(){try{const n=await(await fetch("/cart.js")).json();document.querySelectorAll("[data-cart-count]").forEach(e=>{e.textContent=n.item_count})}catch(s){console.error("Update cart count error:",s)}}function V(s,n="success"){const t=document.createElement("div");t.className=`fixed top-4 right-4 px-6 py-3 rounded-lg shadow-lg z-50 ${n==="error"?"bg-error":"bg-success"} text-background`,t.textContent=s,document.body.appendChild(t),setTimeout(()=>{t.remove()},3e3)}function kt(){document.querySelectorAll("[data-product-form]").forEach(n=>{Tt(n)})}function Tt(s){s.querySelectorAll('select[name^="options"]').forEach(t=>{t.addEventListener("change",()=>{W(s)})}),W(s)}function W(s){Array.from(s.querySelectorAll('select[name^="options"]')).map(e=>e.value);const n=s.querySelector('input[name="id"]'),t=s.querySelector('button[type="submit"]');t&&n&&(t.disabled=!n.value)}if(typeof customElements<"u"){class s extends HTMLElement{connectedCallback(){this.render(),this.attachEventListeners()}render(){const t=this.dataset.product;if(t)try{const e=JSON.parse(t)}catch(e){console.error("Error rendering product card:",e)}}attachEventListeners(){const t=this.querySelector("[data-add-to-cart]");t&&t.addEventListener("click",e=>{e.preventDefault(),this.handleAddToCart()})}async handleAddToCart(){const t=this.dataset.productId,e=this.dataset.quantity||1;try{if(!(await fetch("/cart/add.js",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({id:t,quantity:parseInt(e)})})).ok)throw new Error("Failed to add to cart");this.dispatchEvent(new CustomEvent("product-added-to-cart",{bubbles:!0,detail:{productId:t,quantity:e}}))}catch(r){console.error("Add to cart error:",r)}}}customElements.get("product-card")||customElements.define("product-card",s)}function At(){Dt(),Mt(),Ft()}function Dt(){const s=document.querySelector("[data-mobile-menu-toggle]"),n=document.querySelector("[data-mobile-close]"),t=document.querySelector("[data-mobile-drawer]"),e=document.querySelector("[data-mobile-backdrop]");if(!s||!t)return;const r=()=>{t.hidden=!1,s.setAttribute("aria-expanded","true"),document.body.style.overflow="hidden",setTimeout(()=>{n&&n.focus()},100)},a=()=>{t.hidden=!0,s.setAttribute("aria-expanded","false"),document.body.style.overflow="",s.focus()};s.addEventListener("click",r),n&&n.addEventListener("click",a),e&&e.addEventListener("click",a),document.addEventListener("keydown",i=>{i.key==="Escape"&&!t.hidden&&a()}),t.querySelectorAll("a").forEach(i=>{i.addEventListener("click",()=>{setTimeout(a,150)})})}function Mt(){const s=document.querySelector("[data-header]");if(!s)return;let n=!1;const t=()=>{window.scrollY>50?s.classList.add("is-scrolled"):s.classList.remove("is-scrolled"),n=!1};window.addEventListener("scroll",()=>{n||(window.requestAnimationFrame(t),n=!0)},{passive:!0}),t()}function Ft(){document.querySelector("[data-cart-count]")&&document.addEventListener("cart:updated",n=>{const{itemCount:t}=n.detail;$t(t)})}function $t(s){document.querySelectorAll("[data-cart-count]").forEach(t=>{t.textContent=s,t.style.display=s>0?"flex":"none",s>0&&(t.style.animation="none",setTimeout(()=>{t.style.animation="cartCountPulse 0.3s cubic-bezier(0.4, 0, 0.2, 1)"},10))})}if(typeof document<"u"&&!document.querySelector("#cart-count-animation")){const s=document.createElement("style");s.id="cart-count-animation",s.textContent=`
    @keyframes cartCountPulse {
      0%, 100% { transform: scale(1); }
      50% { transform: scale(1.15); }
    }
  `,document.head.appendChild(s)}var k,X,Z,tt;class x extends HTMLElement{constructor(){super(...arguments);y(this,k);w(this,"refs",{});w(this,"requiredRefs",[])}connectedCallback(){Ot(),c(this,k,X).call(this),c(this,k,Z).call(this)}disconnectedCallback(){}$(t){return this.querySelector(t)}$$(t){return this.querySelectorAll(t)}emit(t,e,r=!0){const a=new CustomEvent(t,{detail:e,bubbles:r,composed:!0});this.dispatchEvent(a)}announceToScreenReader(t,e="polite"){const r=c(this,k,tt).call(this,e);r.textContent=t,setTimeout(()=>{r.textContent=""},1e3)}debounce(t,e){let r;return(...a)=>{clearTimeout(r),r=setTimeout(()=>t.apply(this,a),e)}}throttle(t,e){let r;return(...a)=>{r||(t.apply(this,a),r=!0,setTimeout(()=>r=!1,e))}}}k=new WeakSet,X=function(){const t=this.querySelectorAll("[ref]");this.refs={},t.forEach(e=>{const r=e.getAttribute("ref");if(r)if(r.endsWith("[]")){const a=r.slice(0,-2);this.refs[a]||(this.refs[a]=[]),this.refs[a].push(e)}else this.refs[r]=e})},Z=function(){if(!this.requiredRefs||this.requiredRefs.length===0)return;const t=this.requiredRefs.filter(e=>!this.refs[e]);t.length>0&&console.error(`Missing required refs in ${this.constructor.name}:`,t)},tt=function(t){const e=`[data-live-region="${t}"]`;let r=document.querySelector(e);return r||(r=document.createElement("div"),r.setAttribute("data-live-region",t),r.setAttribute("aria-live",t),r.setAttribute("aria-atomic","true"),r.className="sr-only",document.body.appendChild(r)),r};function Rt(s){let n=s.parentElement;for(;n;){if(n instanceof x)return n;n=n.parentElement}return null}let G=!1;function Ot(){if(G)return;G=!0;const s=["click","change","select","focus","blur","submit","input","keydown","keyup"],n=["focus","blur"];for(const t of s){const e=`on:${t}`;document.addEventListener(t,r=>{const a=jt(r,t,n);if(!a)return;const i=(a.getAttribute(e)??"").split("/").filter(Boolean);if(i.length===0)return;let d=null,l=i[0],f=i.slice(1);(l.includes(".")||l.startsWith("#")||l.startsWith("["))&&(d=l,l=i[1],f=i.slice(2));const u=d?d.startsWith("#")?document.querySelector(d):a.closest(d):Rt(a);if(!(u instanceof x)||!l)return;const g=u[l];if(typeof g=="function")try{g.call(u,r,...f)}catch(T){console.error(`Error calling ${l} on ${u.constructor.name}:`,T)}else console.error(`Method ${l} not found on component ${u.constructor.name}`)},{capture:!0})}}function jt(s,n,t){var r;const e=((r=s.composedPath)==null?void 0:r.call(s)[0])??s.target;return e instanceof Element?e.hasAttribute(`on:${n}`)?e:s.bubbles||t.includes(n)?e.closest(`[on\\:${n}]`):null:null}var R,et,Pt;class Bt extends x{constructor(){super(...arguments);y(this,R);w(this,"requiredRefs",["addToCartButton"])}connectedCallback(){super.connectedCallback()}enable(){this.refs.addToCartButton&&(this.refs.addToCartButton.disabled=!1)}disable(){this.refs.addToCartButton&&(this.refs.addToCartButton.disabled=!0)}handleClick(t){const e=this.closest("form");if(!(e!=null&&e.checkValidity()))return;const r=e.querySelector("quantity-selector-component");if(r!=null&&r.canAddToCart&&!r.canAddToCart().canAdd)return;this.animateAddToCart(),this.dataset.addToCartAnimation==="true"&&!t.target.closest(".quick-add-modal")&&c(this,R,et).call(this)}animateAddToCart(){const t=this.refs.addToCartButton;t&&(t.classList.add("adding-to-cart"),t.setAttribute("aria-busy","true"),setTimeout(()=>{t.classList.remove("adding-to-cart"),t.classList.add("added-to-cart"),t.setAttribute("aria-busy","false"),this.announceToScreenReader("Item added to cart"),setTimeout(()=>{t.classList.remove("added-to-cart")},2e3)},1e3))}}R=new WeakSet,et=function(){var d;const t=this.dataset.productVariantMedia;if(!t)return;const e=document.querySelector("[data-cart-icon]")||document.querySelector(".cart-link")||document.querySelector('[href="/cart"]');if(!e)return;const r=document.createElement("img");r.src=t,r.className="flying-product-image",r.style.cssText=`
      position: fixed;
      width: 80px;
      height: 80px;
      object-fit: cover;
      border-radius: 8px;
      z-index: 9999;
      pointer-events: none;
      box-shadow: 0 4px 12px rgba(0,0,0,0.15);
    `;const a=((d=this.closest(".product"))==null?void 0:d.querySelector("img"))||this.refs.addToCartButton,o=a==null?void 0:a.getBoundingClientRect(),i=e.getBoundingClientRect();!o||!i||(r.style.left=`${o.left+o.width/2-40}px`,r.style.top=`${o.top+o.height/2-40}px`,r.style.opacity="1",r.style.transform="scale(1)",r.style.transition="all 0.8s cubic-bezier(0.25, 0.46, 0.45, 0.94)",document.body.appendChild(r),requestAnimationFrame(()=>{r.style.left=`${i.left+i.width/2-40}px`,r.style.top=`${i.top+i.height/2-40}px`,r.style.transform="scale(0.2)",r.style.opacity="0"}),setTimeout(()=>{r.remove(),e.classList.add("cart-pulse"),setTimeout(()=>e.classList.remove("cart-pulse"),600)},800))},Pt=function(){const t=this.dataset.productVariantMedia;if(!t)return;const e=new Image;e.src=t};customElements.get("add-to-cart-component")||customElements.define("add-to-cart-component",Bt);const v={cartUpdate:"theme:cart:update",cartAdd:"theme:cart:add",quantitySelectorUpdate:"theme:quantity-selector:update",variantSelected:"theme:variant:selected",variantUpdate:"theme:variant:update"};function Nt(s){return new CustomEvent(v.cartUpdate,{detail:s,bubbles:!0,composed:!0})}function Ut(s){return new CustomEvent(v.quantitySelectorUpdate,{detail:s,bubbles:!0,composed:!0})}function _t(s){return new CustomEvent(v.cartAdd,{detail:s,bubbles:!0,composed:!0})}function rt(s="POST",n=null){const t={method:s,headers:{"Content-Type":"application/json",Accept:"application/json"}};return n&&s!=="GET"&&(t.body=JSON.stringify(n)),t}async function Y(){try{const s=await fetch("/cart.js");if(!s.ok)throw new Error(`Failed to fetch cart: ${s.status}`);return await s.json()}catch(s){throw console.error("Error fetching cart:",s),s}}async function Qt(s){var n;try{const t=await fetch("/cart/add.js",rt("POST",{items:[s]}));if(!t.ok){const r=await t.json();throw new Error(r.description||"Failed to add item to cart")}const e=await t.json();return((n=e.items)==null?void 0:n[0])||e}catch(t){throw console.error("Error adding to cart:",t),t}}async function nt(s,n){try{const e=await fetch("/cart/change.js",rt("POST",{line:s,quantity:n}));if(!e.ok){const r=await e.json();throw new Error(r.description||"Failed to update cart item")}return await e.json()}catch(t){throw console.error("Error updating cart item:",t),t}}async function Ht(s){return nt(s,0)}var O,b,st,_,j,B,at,ot;class Vt extends x{constructor(){super(...arguments);y(this,b);w(this,"requiredRefs",["variantId","liveRegion"]);y(this,O,null);y(this,j,async t=>{var d,l,f;const{detail:e}=t;if(e.productId&&e.productId!==this.dataset.productId)return;const{variantId:r,addToCartButtonContainer:a}=this.refs,o=e.variant;if(r.value=(o==null?void 0:o.id)??"",a&&(!o||!o.available?a.disable():a.enable(),(l=(d=o==null?void 0:o.featured_media)==null?void 0:d.preview_image)!=null&&l.src)){const u=o.featured_media.preview_image.src+"&width=100";a.setAttribute("data-product-variant-media",u)}const i=this.querySelector("quantity-selector-component");if(i&&o){const u=i.refs.quantityInput;u&&(o.inventory_management&&o.inventory_policy==="deny"?u.max=o.inventory_quantity.toString():u.removeAttribute("max"),(f=i.updateButtonStates)==null||f.call(i))}await c(this,b,_).call(this)});y(this,B,()=>{var t;(t=this.refs.addToCartButtonContainer)==null||t.disable()})}connectedCallback(){super.connectedCallback(),this.addEventListener(v.variantUpdate,m(this,j)),this.addEventListener(v.variantSelected,m(this,B)),c(this,b,_).call(this)}disconnectedCallback(){super.disconnectedCallback(),this.removeEventListener(v.variantUpdate,m(this,j)),this.removeEventListener(v.variantSelected,m(this,B)),m(this,O)&&m(this,O).abort()}async handleSubmit(t){var l,f,u,g,T,U;t.preventDefault();const{addToCartTextError:e,addToCartButtonContainer:r}=this.refs,a=t.target;if(!a.checkValidity()){a.reportValidity();return}r==null||r.disable();const o=new FormData(a),i=o.get("id"),d=parseInt(((l=o.get("quantity"))==null?void 0:l.toString())||"1",10);if(!i){console.error("No variant ID found"),r==null||r.enable();return}try{const A=c(this,b,st).call(this),gt=await Qt({id:i.toString(),quantity:d,sections:A.join(","),sections_url:window.location.pathname});e&&(e.classList.add("hidden"),e.removeAttribute("aria-live"));const wt=((T=(g=(u=(f=this.refs.addToCartButtonContainer)==null?void 0:f.refs.addToCartButton)==null?void 0:u.querySelector(".add-to-cart-text--added"))==null?void 0:g.textContent)==null?void 0:T.trim())||"Added to cart";c(this,b,at).call(this,wt),setTimeout(()=>{c(this,b,ot).call(this)},3e3),await c(this,b,_).call(this),document.dispatchEvent(_t({item:(U=gt.items)==null?void 0:U[0],quantity:d}))}catch(A){console.error("Failed to add to cart:",A),e&&(e.textContent=A.message||"Failed to add to cart. Please try again.",e.classList.remove("hidden"),e.setAttribute("aria-live","polite")),this.announceToScreenReader("Failed to add to cart. Please try again.")}finally{r==null||r.enable()}}}O=new WeakMap,b=new WeakSet,st=function(){const t=[],e=document.querySelector("cart-drawer-component");return e!=null&&e.dataset.sectionId&&t.push(e.dataset.sectionId),t},_=async function(){var e,r,a;const t=this.refs.variantId.value;if(t)try{const i=await(await fetch(((r=(e=window.Shopify)==null?void 0:e.routes)==null?void 0:r.root)+"cart.js")).json();let d=0;for(const u of i.items)u.variant_id.toString()===t&&(d+=u.quantity);const l=this.querySelector("quantity-selector-component");if(l){const u=l.refs.quantityInput;u&&(u.setAttribute("data-cart-quantity",d.toString()),(a=l.updateCartQuantity)==null||a.call(l))}const f=this.querySelector(".quantity-label");if(f&&d>0){const u=`${d} in cart`;f.textContent=u,f.classList.remove("hidden")}else f&&f.classList.add("hidden")}catch(o){console.error("Failed to fetch cart quantity:",o)}},j=new WeakMap,B=new WeakMap,at=function(t){this.refs.liveRegion&&(this.refs.liveRegion.textContent=t)},ot=function(){this.refs.liveRegion&&(this.refs.liveRegion.textContent="")};customElements.get("product-form-component")||customElements.define("product-form-component",Vt);function zt(s,n){if(!s){console.error("morphSection: target element not found");return}const r=new DOMParser().parseFromString(n,"text/html").querySelector(s.tagName.toLowerCase()+(s.id?`#${s.id}`:"")+(s.className?`.${s.className.split(" ")[0]}`:""));if(!r){console.error("morphSection: new element not found in HTML");return}s.innerHTML=r.innerHTML;const a=new CustomEvent("section:morphed",{detail:{element:s},bubbles:!0});s.dispatchEvent(a)}var F,E,p,Q,it,z,ct,dt,lt,ut,$;class Jt extends x{constructor(){super(...arguments);y(this,p);y(this,F,null);y(this,E,null);w(this,"productData",null)}connectedCallback(){super.connectedCallback(),c(this,p,Q).call(this),this.addEventListener("change",c(this,p,it).bind(this))}disconnectedCallback(){super.disconnectedCallback(),m(this,E)&&m(this,E).abort()}updateVariantPicker(t){const e=t.querySelector("variant-selector-component");e&&(this.innerHTML=e.innerHTML,c(this,p,Q).call(this))}updateSelectedOption(t){const e=this.querySelector(`input[data-option-value-id="${t}"]`);if(e instanceof HTMLInputElement){e.checked=!0,c(this,p,z).call(this,e);return}const r=this.querySelector("select");if(r){const a=r.querySelector(`option[data-option-value-id="${t}"]`);a instanceof HTMLOptionElement&&(r.value=a.value)}}}F=new WeakMap,E=new WeakMap,p=new WeakSet,Q=function(){const t=this.querySelector('[type="application/json"]');if(t)try{this.productData=JSON.parse(t.textContent)}catch(e){console.error("Failed to parse product data:",e),this.productData=null}else this.productData=null},it=async function(t){var d;const e=t.target;if(!(e instanceof HTMLElement))return;const r=e instanceof HTMLSelectElement?e.options[e.selectedIndex]:e;r&&c(this,p,z).call(this,e);const a=c(this,p,ut).call(this);if(this.dispatchEvent(new CustomEvent(v.variantSelected,{detail:{optionValueId:(r==null?void 0:r.dataset.optionValueId)||"",variantId:((d=a==null?void 0:a.id)==null?void 0:d.toString())||(r==null?void 0:r.dataset.variantId)||"",source:"variant-selector-component"},bubbles:!0,composed:!0})),!a){c(this,p,$).call(this,null);return}const o=this.dataset.productPage==="true"&&!this.closest("product-card")&&!this.closest("quick-add-dialog"),i=c(this,p,ct).call(this,a.id);if(await c(this,p,dt).call(this,i,a),o){const l=a.id,f=new URL(window.location.href);l?f.searchParams.set("variant",l):f.searchParams.delete("variant"),f.href!==window.location.href&&history.replaceState({},"",f.toString())}},z=function(t){var e;if(t instanceof HTMLInputElement&&t.type==="radio"){const r=t.closest(".variant-input");if(r){const a=(e=r.parentElement)==null?void 0:e.querySelectorAll(".variant-input");a==null||a.forEach(o=>o.classList.remove("selected")),r.classList.add("selected")}}},ct=function(t){var o;const e=(o=this.dataset.productUrl)==null?void 0:o.split("?")[0];if(!e)return"";const r=new URL(e,window.location.origin);t&&r.searchParams.set("variant",t);const a=this.dataset.sectionId;return a&&r.searchParams.set("section_id",a),r.href},dt=async function(t,e=null){if(!t){c(this,p,$).call(this,e);return}if(m(this,E)&&m(this,E).abort(),C(this,E,new AbortController),m(this,F)!==t){C(this,F,t);try{const r=await fetch(t,{signal:m(this,E).signal});if(!r.ok)throw new Error(`HTTP error! status: ${r.status}`);const a=await r.text(),i=new DOMParser().parseFromString(a,"text/html"),d=i.querySelector("variant-selector-component"),l=d==null?void 0:d.querySelector('[type="application/json"]');let f=e;if(l)try{const u=JSON.parse(l.textContent);f=u.selected_or_first_available_variant||u.current_variant||e}catch(u){console.error("Failed to parse variant data:",u)}c(this,p,$).call(this,f,i),d&&(this.innerHTML=d.innerHTML,c(this,p,Q).call(this))}catch(r){if(r.name==="AbortError"){console.log("Variant fetch aborted");return}console.error("Failed to fetch variant:",r),c(this,p,$).call(this,e)}finally{C(this,F,null),C(this,E,null)}}},lt=function(){var r;if(!((r=this.productData)!=null&&r.options))return[];const t=new Map;return this.querySelectorAll('input[name^="options"], select[name^="options"]').forEach(a=>{var d;const o=(d=a.name)==null?void 0:d.match(/^options\[(.+)\]$/);if(!o)return;const i=o[1];a instanceof HTMLInputElement?a.type==="radio"?a.checked&&t.set(i,a.value):t.set(i,a.value):a instanceof HTMLSelectElement&&t.set(i,a.value)}),this.productData.options.map(a=>t.get(a)||"")},ut=function(){var e,r;if(!((r=(e=this.productData)==null?void 0:e.variants)!=null&&r.length))return null;const t=c(this,p,lt).call(this);return t.length&&this.productData.variants.find(a=>(a.options||[a.option1,a.option2,a.option3].filter(Boolean)).every((i,d)=>{const l=t[d];return!l||i===l}))||null},$=function(t,e=void 0){this.dispatchEvent(new CustomEvent(v.variantUpdate,{detail:{variant:t,productId:this.dataset.productId,html:e,source:"variant-selector-component"},bubbles:!0,composed:!0})),t&&document.dispatchEvent(new CustomEvent("variant:selected",{detail:{variant:t,media:t},bubbles:!0}))};customElements.get("variant-selector-component")||customElements.define("variant-selector-component",Jt);var D,h,ht,P,ft,q,I,mt,pt,Wt;class Kt extends x{constructor(){super(...arguments);y(this,h);w(this,"currentIndex",0);y(this,D,null);y(this,P,t=>{const{variant:e}=t.detail;if(!e||!e.featured_media)return;const r=c(this,h,ft).call(this,e.featured_media.id);r!==-1&&(c(this,h,q).call(this,r),c(this,h,I).call(this,r))})}connectedCallback(){super.connectedCallback(),c(this,h,ht).call(this),document.addEventListener(v.variantUpdate,m(this,P)),c(this,h,pt).call(this)}disconnectedCallback(){super.disconnectedCallback(),document.removeEventListener(v.variantUpdate,m(this,P)),m(this,D)&&m(this,D).disconnect()}selectSlide(t,e){e==null||e.preventDefault(),c(this,h,q).call(this,parseInt(t,10)),c(this,h,I).call(this,parseInt(t,10))}previousSlide(t){var r;t==null||t.preventDefault();const e=this.currentIndex>0?this.currentIndex-1:(((r=this.refs.slides)==null?void 0:r.length)||1)-1;c(this,h,q).call(this,e),c(this,h,I).call(this,e)}nextSlide(t){var r;t==null||t.preventDefault();const e=this.currentIndex<(((r=this.refs.slides)==null?void 0:r.length)||1)-1?this.currentIndex+1:0;c(this,h,q).call(this,e),c(this,h,I).call(this,e)}}D=new WeakMap,h=new WeakSet,ht=function(){this.refs.slides&&this.refs.slides.length>0&&c(this,h,q).call(this,0),this.addEventListener("keydown",c(this,h,mt).bind(this))},P=new WeakMap,ft=function(t){return this.refs.slides?this.refs.slides.findIndex(e=>{const r=e.dataset.mediaId;return r&&r===t.toString()}):-1},q=function(t){!this.refs.slides||t<0||t>=this.refs.slides.length||(this.currentIndex=t,this.refs.slides.forEach((e,r)=>{r===t?(e.classList.add("active"),e.removeAttribute("inert"),e.setAttribute("aria-hidden","false")):(e.classList.remove("active"),e.setAttribute("inert",""),e.setAttribute("aria-hidden","true"))}),this.refs.thumbnails&&this.refs.thumbnails.forEach((e,r)=>{r===t?(e.classList.add("active"),e.setAttribute("aria-current","true")):(e.classList.remove("active"),e.removeAttribute("aria-current"))}),this.announceToScreenReader(`Image ${t+1} of ${this.refs.slides.length}`))},I=function(t){if(!this.refs.slides||t<0||t>=this.refs.slides.length)return;const e=this.refs.slides[t],r=e.parentElement;r&&r.scrollTo({left:e.offsetLeft,behavior:"smooth"})},mt=function(t){var e;switch(t.key){case"ArrowLeft":t.preventDefault(),this.previousSlide(t);break;case"ArrowRight":t.preventDefault(),this.nextSlide(t);break;case"Home":t.preventDefault(),c(this,h,q).call(this,0),c(this,h,I).call(this,0);break;case"End":t.preventDefault();const r=(((e=this.refs.slides)==null?void 0:e.length)||1)-1;c(this,h,q).call(this,r),c(this,h,I).call(this,r);break}},pt=function(){"ResizeObserver"in window&&(C(this,D,new ResizeObserver(()=>{c(this,h,I).call(this,this.currentIndex)})),m(this,D).observe(this))},Wt=function(){if(!("IntersectionObserver"in window)||!this.refs.slides)return;const t={root:this.querySelector(".slides-container"),threshold:.5},e=new IntersectionObserver(r=>{r.forEach(a=>{var o;if(a.isIntersecting){const i=(o=this.refs.slides)==null?void 0:o.indexOf(a.target);i!==void 0&&i!==-1&&c(this,h,q).call(this,i)}})},t);this.refs.slides.forEach(r=>e.observe(r))};customElements.get("product-gallery-component")||customElements.define("product-gallery-component",Kt);var N,M,S,L,yt,J,vt;class Gt extends x{constructor(){super(...arguments);y(this,L);y(this,N,this.debounce(c(this,L,yt).bind(this),300));y(this,M,!1);y(this,S,null)}connectedCallback(){super.connectedCallback(),document.addEventListener(v.quantitySelectorUpdate,m(this,N))}disconnectedCallback(){super.disconnectedCallback(),document.removeEventListener(v.quantitySelectorUpdate,m(this,N)),m(this,S)&&m(this,S).abort()}async onLineItemRemove(t){var r;await this.updateQuantity({line:t,quantity:0,action:"clear"});const e=(r=this.refs.cartItemRows)==null?void 0:r[t-1];e&&(e.classList.add("removing","opacity-50"),setTimeout(()=>{e.remove()},300))}async updateQuantity({line:t,quantity:e,action:r}){var o,i,d;if(m(this,M)){console.log("[CartItems] Update already in progress, skipping");return}C(this,M,!0),m(this,S)&&m(this,S).abort(),C(this,S,new AbortController);const a=this.dataset.sectionId;if(!a){console.error("[CartItems] No section ID found"),C(this,M,!1);return}try{c(this,L,J).call(this,t,!0);const l={line:t,quantity:e,sections:a,sections_url:window.location.pathname},f=((i=(o=window.Shopify)==null?void 0:o.routes)==null?void 0:i.root)||"/",u=await fetch(`${f}cart/change.js`,{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify(l),signal:m(this,S).signal});if(!u.ok){const A=await u.json();throw new Error(A.description||A.message||"Failed to update cart")}const g=await u.json();if(g.errors)throw new Error(g.errors);const T=(d=g.sections)==null?void 0:d[a];T&&zt(this,T),document.dispatchEvent(Nt({cart:g,itemCount:g.item_count,source:"cart-items-component"}));const U=e===0?"Item removed from cart":"Cart updated";this.announceToScreenReader(U)}catch(l){if(l.name==="AbortError"){console.log("[CartItems] Request was cancelled");return}console.error("[CartItems] Cart update error:",l),c(this,L,vt).call(this,l.message||"Failed to update cart. Please try again."),this.announceToScreenReader("Failed to update cart. Please try again.")}finally{C(this,M,!1),c(this,L,J).call(this,t,!1),C(this,S,null)}}}N=new WeakMap,M=new WeakMap,S=new WeakMap,L=new WeakSet,yt=async function(t){const{quantity:e,cartLine:r}=t.detail;if(r){if(e===0)return this.onLineItemRemove(r);await this.updateQuantity({line:r,quantity:e,action:"change"})}},J=function(t,e){var a;const r=(a=this.refs.cartItemRows)==null?void 0:a[t-1];r&&(e?(r.classList.add("loading","opacity-50","pointer-events-none"),r.setAttribute("aria-busy","true")):(r.classList.remove("loading","opacity-50","pointer-events-none"),r.setAttribute("aria-busy","false")))},vt=function(t){const e=this.querySelector("[data-cart-error]");e&&(e.textContent=t,e.classList.remove("hidden"),e.setAttribute("role","alert"),setTimeout(()=>{e.classList.add("hidden"),e.removeAttribute("role")},5e3))};customElements.get("cart-items-component")||customElements.define("cart-items-component",Gt);class Yt extends x{constructor(){super(),this.isOpen=!1,this.focusableElements=[],this.previousFocus=null}connectedCallback(){super.connectedCallback(),document.addEventListener("cart:item-added",this.handleCartUpdate.bind(this)),document.addEventListener("cart:updated",this.handleCartUpdate.bind(this)),document.addEventListener("cart:open-drawer",this.open.bind(this)),this.attachEventListeners()}attachEventListeners(){const n=this.querySelector("[data-drawer-close]");n==null||n.addEventListener("click",this.close.bind(this));const t=this.querySelector("[data-drawer-backdrop]");t==null||t.addEventListener("click",this.close.bind(this)),this.addEventListener("change",this.handleQuantityChange.bind(this)),this.addEventListener("click",e=>{const r=e.target.closest("[data-drawer-remove]");if(r){e.preventDefault();const a=r.dataset.drawerRemove;this.removeItem(a)}}),this.addEventListener("keydown",this.handleKeyboard.bind(this))}async open(){this.isOpen||(this.isOpen=!0,this.previousFocus=document.activeElement,await this.refreshCartData(),this.classList.add("active"),this.setAttribute("aria-hidden","false"),document.body.style.overflow="hidden",setTimeout(()=>{const n=this.querySelector("[data-drawer-close]");n==null||n.focus()},100),this.updateFocusableElements(),this.announceToScreenReader("Shopping cart opened"))}close(){this.isOpen&&(this.isOpen=!1,this.classList.remove("active"),this.setAttribute("aria-hidden","true"),document.body.style.overflow="",this.previousFocus&&this.previousFocus.focus(),this.announceToScreenReader("Shopping cart closed"))}async handleCartUpdate(n){n.type==="cart:item-added"?(await this.refreshCartData(),this.open()):await this.refreshCartData()}async refreshCartData(){try{const n=await Y();this.renderCart(n)}catch(n){console.error("Failed to refresh cart:",n)}}renderCart(n){var i;const t=this.querySelector("[data-drawer-items]"),e=this.querySelector("[data-drawer-empty]"),r=this.querySelector("[data-drawer-content]"),a=this.querySelector("[data-drawer-subtotal]"),o=this.querySelector("[data-drawer-count]");if(t){if(o&&(o.textContent=n.item_count),n.item_count===0){e==null||e.classList.remove("hidden"),r==null||r.classList.add("hidden");return}if(e==null||e.classList.add("hidden"),r==null||r.classList.remove("hidden"),t.innerHTML=n.items.map(d=>this.renderCartItem(d)).join(""),a){const d=((i=window.Shopify)==null?void 0:i.formatMoney)||(l=>`$${(l/100).toFixed(2)}`);a.textContent=d(n.total_price)}}}renderCartItem(n){var e;const t=((e=window.Shopify)==null?void 0:e.formatMoney)||(r=>`$${(r/100).toFixed(2)}`);return`
      <div class="cart-drawer-item flex gap-3 p-4 bg-background rounded-lg border border-border shadow-sm transition-all" data-cart-item="${n.key}">
        ${n.image?`
          <a href="${n.url}" class="flex-shrink-0 group">
            <img 
              src="${n.image}" 
              alt="${n.title}"
              class="w-20 h-20 object-cover rounded-lg group-hover:opacity-90 transition-opacity"
              loading="lazy"
            >
          </a>
        `:""}
        
        <div class="flex-grow min-w-0">
          <h4 class="font-semibold text-sm mb-1 text-foreground">
            <a href="${n.url}" class="hover:text-primary transition-colors line-clamp-2">${n.product_title}</a>
          </h4>
          
          ${n.variant_title.includes("Default")?"":`
            <p class="text-xs text-muted mb-2">${n.variant_title}</p>
          `}
          
          <div class="flex items-center justify-between gap-2 mt-3">
            <div class="flex items-center border border-border rounded-lg overflow-hidden">
              <button
                type="button"
                class="w-8 h-8 flex items-center justify-center hover:bg-border/20 text-muted transition-colors"
                data-drawer-quantity-minus="${n.key}"
                aria-label="Decrease quantity"
              >
                <svg class="w-3 h-3" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M20 12H4"></path>
                </svg>
              </button>
              
              <input
                type="number"
                class="w-10 h-8 text-center border-0 border-x border-border text-sm font-medium text-foreground bg-background"
                value="${n.quantity}"
                min="0"
                data-drawer-quantity-input="${n.key}"
                aria-label="Quantity"
              >
              
              <button
                type="button"
                class="w-8 h-8 flex items-center justify-center hover:bg-border/20 text-muted transition-colors"
                data-drawer-quantity-plus="${n.key}"
                aria-label="Increase quantity"
              >
                <svg class="w-3 h-3" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 4v16m8-8H4"></path>
                </svg>
              </button>
            </div>
            
            <span class="font-bold text-sm text-foreground">${t(n.final_line_price)}</span>
          </div>
        </div>
        
        <button
          type="button"
          class="flex-shrink-0 w-7 h-7 flex items-center justify-center text-muted/60 hover:text-error hover:bg-error/10 rounded-lg transition-all"
          data-drawer-remove="${n.key}"
          aria-label="Remove ${n.product_title}"
        >
          <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path>
          </svg>
        </button>
      </div>
    `}async handleQuantityChange(n){const t=n.target;if(!t.matches("[data-drawer-quantity-input]"))return;const e=t.dataset.drawerQuantityInput,r=parseInt(t.value,10);isNaN(r)||r<0||await this.updateQuantity(e,r)}async updateQuantity(n,t){try{const e=this.querySelector(`[data-cart-item="${n}"]`);e==null||e.classList.add("opacity-50","pointer-events-none"),await nt(n,t),await this.refreshCartData(),this.updateCartBadge()}catch(e){console.error("Failed to update quantity:",e),await this.refreshCartData()}}async removeItem(n){try{const t=this.querySelector(`[data-cart-item="${n}"]`);t==null||t.classList.add("opacity-50","pointer-events-none"),await Ht(n),await this.refreshCartData(),this.updateCartBadge(),this.announceToScreenReader("Item removed from cart")}catch(t){console.error("Failed to remove item:",t),await this.refreshCartData()}}async updateCartBadge(){try{const n=await Y();document.querySelectorAll("[data-cart-count-badge]").forEach(e=>{e.textContent=n.item_count,e.classList.toggle("hidden",n.item_count===0)})}catch(n){console.error("Failed to update cart badge:",n)}}handleKeyboard(n){if(n.key==="Escape"){this.close();return}n.key==="Tab"&&this.isOpen&&this.handleTabKey(n)}handleTabKey(n){if(this.updateFocusableElements(),this.focusableElements.length===0)return;const t=this.focusableElements[0],e=this.focusableElements[this.focusableElements.length-1];n.shiftKey?document.activeElement===t&&(n.preventDefault(),e.focus()):document.activeElement===e&&(n.preventDefault(),t.focus())}updateFocusableElements(){const n='a[href], button:not([disabled]), input:not([disabled]), select:not([disabled]), textarea:not([disabled]), [tabindex]:not([tabindex="-1"])';this.focusableElements=Array.from(this.querySelectorAll(n))}disconnectedCallback(){super.disconnectedCallback(),this.isOpen&&(document.body.style.overflow=""),document.removeEventListener("cart:item-added",this.handleCartUpdate),document.removeEventListener("cart:updated",this.handleCartUpdate),document.removeEventListener("cart:open-drawer",this.open)}}customElements.get("cart-drawer-component")||customElements.define("cart-drawer-component",Yt);class bt extends x{constructor(){super(...arguments);w(this,"requiredRefs",["quantityInput","minusButton","plusButton"]);w(this,"serverDisabledMinus",!1);w(this,"serverDisabledPlus",!1);w(this,"initialized",!1)}connectedCallback(){super.connectedCallback();const{minusButton:t,plusButton:e}=this.refs;t&&t.disabled&&(this.serverDisabledMinus=!0),e&&e.disabled&&(this.serverDisabledPlus=!0),this.initialized=!0,this.updateButtonStates()}decreaseQuantity(t){t==null||t.preventDefault();const{min:e,value:r,step:a}=this.getCurrentValues(),o=Math.max(e,r-a);o!==r&&this.setQuantity(o)}increaseQuantity(t){t==null||t.preventDefault();const{value:e,step:r}=this.getCurrentValues(),a=this.getEffectiveMax(),o=e+r;(a===null||o<=a)&&this.setQuantity(o)}setQuantity(t){const{quantityInput:e}=this.refs,{min:r}=this.getCurrentValues(),a=this.getEffectiveMax();let o=Math.max(r,t);a!==null&&(o=Math.min(o,a)),e.value=o.toString(),this.updateButtonStates();const i=e.getAttribute("data-cart-line");document.dispatchEvent(Ut({quantity:o,cartLine:i?parseInt(i,10):void 0,variantId:this.dataset.variantId}))}validateQuantity(t){const{quantityInput:e}=this.refs,r=parseInt(e.value,10);isNaN(r)||this.setQuantity(r)}selectInputValue(t){const{quantityInput:e}=this.refs;e.select()}getCurrentValues(){const{quantityInput:t}=this.refs;return{min:parseInt(t.min)||1,max:t.max?parseInt(t.max):null,step:parseInt(t.step)||1,value:parseInt(t.value)||0,cartQuantity:parseInt(t.getAttribute("data-cart-quantity")||"0")}}getEffectiveMax(){const{max:t,cartQuantity:e,min:r}=this.getCurrentValues();return t===null?null:Math.max(t-e,r)}updateButtonStates(){if(!this.initialized)return;const{minusButton:t,plusButton:e}=this.refs;if(!t||!e)return;const{min:r,value:a}=this.getCurrentValues(),o=this.getEffectiveMax();this.serverDisabledMinus||(t.disabled=a<=r),this.serverDisabledPlus||(e.disabled=o!==null&&a>=o)}updateCartQuantity(){this.updateButtonStates()}}customElements.get("quantity-selector-component")||customElements.define("quantity-selector-component",bt);class Xt extends bt{getEffectiveMax(){const{max:n}=this.getCurrentValues();return n}updateButtonStates(){if(!this.initialized)return;const{minusButton:n,plusButton:t}=this.refs;if(!n||!t)return;const{min:e,value:r}=this.getCurrentValues(),a=this.getEffectiveMax();n.disabled=r<=e,t.disabled=a!==null&&r>=a}}customElements.get("cart-quantity-selector-component")||customElements.define("cart-quantity-selector-component",Xt);class Zt extends x{constructor(){super(),this.timerInterval=null}connectedCallback(){super.connectedCallback(),this.startTimer()}disconnectedCallback(){super.disconnectedCallback(),this.stopTimer()}startTimer(){const n=this.dataset.deadline;if(!n)return;let t=new Date(n).getTime();if(isNaN(t)){console.error("Invalid deadline format");return}this.updateDisplay(t);const e=()=>{this.updateDisplay(t),this.timerFrame=requestAnimationFrame(e)};this.timerFrame=requestAnimationFrame(e)}stopTimer(){this.timerFrame&&(cancelAnimationFrame(this.timerFrame),this.timerFrame=null)}updateDisplay(n){const t=new Date().getTime(),e=n-t;if(e<0){this.stopTimer(),this.innerHTML=`<div class="text-error font-medium">${this.dataset.expiredMessage||"Offer ended"}</div>`;return}const r=Math.floor(e/(1e3*60*60)),a=Math.floor(e%(1e3*60*60)/(1e3*60)),o=Math.floor(e%(1e3*60)/1e3),i=Math.floor(e%1e3/10),d=this.querySelector("[data-hours]"),l=this.querySelector("[data-minutes]"),f=this.querySelector("[data-seconds]"),u=this.querySelector("[data-milliseconds]");d&&l&&f?(d.textContent=this.formatNumber(r),l.textContent=this.formatNumber(a),f.textContent=this.formatNumber(o),u&&(u.textContent=this.formatNumber(i))):this.textContent=`${r}:${this.formatNumber(a)}:${this.formatNumber(o)}.${this.formatNumber(i)}`}formatNumber(n){return n<10?`0${n}`:n}}customElements.get("countdown-timer")||customElements.define("countdown-timer",Zt);function te(s){typeof window<"u"&&(window.theme=window.theme||{},window.theme.moneyFormat=s.moneyFormat||"${{amount}}")}document.addEventListener("DOMContentLoaded",()=>{console.log("Minimal Shopify Theme loaded"),window.Shopify&&window.Shopify.money_format&&te({moneyFormat:window.Shopify.money_format}),St(),kt(),At(),document.addEventListener("cart:item-added",s=>{console.log("Item added to cart:",s.detail)}),document.addEventListener("cart:updated",s=>{console.log("Cart updated:",s.detail)}),document.addEventListener("cart:error",s=>{console.error("Cart error:",s.detail)})});
