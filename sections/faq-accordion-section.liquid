{%- comment -%}
  Reusable FAQ accordion section built on the shared snippet.
  Keeps the same UX used on the OWS Pro page while exposing configurable settings.
{%- endcomment -%}

{%- liquid
  assign fallback_section_id = 'faq-accordion-section-' | append: section.index
  assign section_id = section.settings.section_id | default: fallback_section_id
-%}

{%- render 'faq-accordion',
  section_id: section_id,
  color_scheme: section.settings.color_scheme,
  heading: section.settings.heading,
  subheading: section.settings.subheading,
  faqs: section.blocks
-%}

{% schema %}
{
  "name": "FAQ (Accordion)",
  "tag": "section",
  "class": "faq-accordion-section",
  "settings": [
    {
      "type": "color_scheme",
      "id": "color_scheme",
      "label": "Color Scheme",
      "default": "scheme-2"
    },
    {
      "type": "text",
      "id": "section_id",
      "label": "Section ID",
      "info": "Used for anchor links. Defaults to faq-accordion-section-{index} when left blank."
    },
    {
      "type": "text",
      "id": "heading",
      "label": "Heading",
      "default": "Frequently Asked Questions"
    },
    {
      "type": "text",
      "id": "subheading",
      "label": "Subheading",
      "default": "Can't find the answer you're looking for? Reach out to our customer support team."
    }
  ],
  "blocks": [
    {
      "type": "faq_item",
      "name": "FAQ Item",
      "settings": [
        {
          "type": "text",
          "id": "question",
          "label": "Question",
          "default": "What is the warranty period?"
        },
        {
          "type": "richtext",
          "id": "answer",
          "label": "Answer",
          "default": "<p>The Oladance OWS Pro comes with a 12-month limited warranty. For more details, please visit our warranty policy page.</p>"
        }
      ]
    }
  ],
  "presets": [
    {
      "name": "FAQ (Accordion)",
      "blocks": [
        {
          "type": "faq_item",
          "settings": {
            "question": "Are they suitable for running and workouts?",
            "answer": "<p>Absolutely. The patented open-ear design and skin-friendly silicone ensure a secure and comfortable fit, even during intense workouts. The IPX4 waterproof rating also protects them from sweat.</p>"
          }
        },
        {
          "type": "faq_item",
          "settings": {
            "question": "Can I connect to multiple devices at once?",
            "answer": "<p>The Oladance OWS Pro supports Bluetooth 5.3 but does not officially support multipoint connection to two devices simultaneously. For this feature, please consider the OWS 2 model.</p>"
          }
        },
        {
          "type": "faq_item",
          "settings": {
            "question": "How does the open-ear design affect sound leakage?",
            "answer": "<p>Our sound leakage control technology minimizes sound leakage, ensuring your music and calls remain private in most environments. In very quiet settings, some sound may be audible to those in close proximity.</p>"
          }
        },
        {
          "type": "faq_item"
        }
      ]
    }
  ]
}
{% endschema %}
