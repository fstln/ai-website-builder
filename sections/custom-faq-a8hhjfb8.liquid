{%- comment -%}
  This section provides answers to frequently asked questions in a collapsible accordion.
  It helps to address customer concerns and reduce purchase friction.
{%- endcomment -%}

{%- liquid
  assign section_id = 'faq-' | append: section.id
-%}

<div id="{{ section_id }}" class="color-scheme color-{{ section.settings.color_scheme }}">
  <div class="container-custom py-12 md:py-24">
    <div class="max-w-3xl mx-auto text-center mb-12 md:mb-16">
      {%- if section.settings.heading != blank -%}
        <h2 class="text-3xl md:text-4xl font-bold tracking-tight text-foreground">
          {{ section.settings.heading }}
        </h2>
      {%- endif -%}
    </div>

    <div class="max-w-4xl mx-auto">
      {%- for block in section.blocks -%}
        <details class="border-b border-border last:border-b-0 py-6">
          <summary class="flex justify-between items-center cursor-pointer list-none">
            <span class="text-xl font-medium text-foreground">{{ block.settings.question }}</span>
            <span class="transform transition-transform duration-300">
              {%- render 'icon', name: 'plus', class: 'w-6 h-6 text-foreground' -%}
            </span>
          </summary>
          <div class="mt-4 prose prose-lg text-foreground-muted max-w-none">
            {{ block.settings.answer }}
          </div>
        </details>
      {%- endfor -%}
    </div>
  </div>
</div>

<style>
  details[open] > summary span.transform {
    transform: rotate(45deg);
  }
</style>

{% schema %}
{
  "name": "Custom FAQ",
  "tag": "section",
  "class": "custom-faq-section",
  "settings": [
    {
      "type": "color_scheme",
      "id": "color_scheme",
      "label": "Color Scheme",
      "default": "scheme-1"
    },
    {
      "type": "text",
      "id": "heading",
      "label": "Heading",
      "default": "Frequently Asked Questions"
    }
  ],
  "blocks": [
    {
      "type": "faq_item",
      "name": "FAQ Item",
      "settings": [
        {
          "type": "text",
          "id": "question",
          "label": "Question",
          "default": "What is the battery life?"
        },
        {
          "type": "richtext",
          "id": "answer",
          "label": "Answer",
          "default": "<p>The Oladance OWS Pro offers up to 16 hours of continuous playback on a single charge, and a total of 58 hours with the charging case.</p>"
        }
      ]
    }
  ],
  "presets": [
    {
      "name": "Custom FAQ"
    }
  ]
}
{% endschema %}
