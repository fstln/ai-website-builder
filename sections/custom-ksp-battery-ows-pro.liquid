{%- comment -%}
  This section highlights the exceptional 58-hour battery life of the OWS Pro.
  It uses a full-width background image with centered text to create a powerful, immersive statement.
{%- endcomment -%}

{%- liquid
  assign section_id = 'custom-ksp-battery-' | append: section.id
  assign text_color = section.settings.text_color
-%}

<style>
  #{{ section_id }} {
    color: {{ text_color }};
    padding: clamp(4rem, 10vw, 8rem) 0;
    position: relative;
    background-color: #1E1E1E;
    overflow: hidden;
  }

  #{{ section_id }} .ksp-battery__bg-image {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    object-fit: cover;
    z-index: 1;
    opacity: 0.3;
  }

  #{{ section_id }} .container-custom {
    margin: 0 auto;
    max-width: 1200px;
    padding: 0 1.5rem;
    text-align: center;
    position: relative;
    z-index: 2;
  }

  #{{ section_id }} .ksp-battery__headline {
    font-size: clamp(2.5rem, 5vw, 4rem);
    font-weight: 700;
    line-height: 1.1;
    margin-bottom: 1rem;
    letter-spacing: -0.025em;
  }

  #{{ section_id }} .ksp-battery__subheading {
    font-size: 1.25rem;
    line-height: 1.6;
    max-width: 600px;
    margin: 0 auto;
    opacity: 0.9;
  }
</style>

<section id="{{ section_id }}">
  {%- if section.settings.background_image != blank -%}
    <img
      src="{{ section.settings.background_image | image_url: width: 1800 }}"
      alt="{{ section.settings.background_image.alt | default: 'Long exposure shot representing long battery life' | escape }}"
      width="1800"
      height="1000"
      loading="lazy"
      class="ksp-battery__bg-image"
    >
  {%- else -%}
    <img
      src="https://placehold.co/1800x1000/1E1E1E/FFFFFF?text=58+HOURS"
      alt="Placeholder for battery life feature"
      width="1800"
      height="1000"
      loading="lazy"
      class="ksp-battery__bg-image"
    >
  {%- endif -%}

  <div class="container-custom">
    <h2 class="ksp-battery__headline">{{ section.settings.headline | escape }}</h2>
    <p class="ksp-battery__subheading">{{ section.settings.subheading | escape }}</p>
  </div>
</section>

{% schema %}
{
  "name": "KSP: Exceptional Battery",
  "tag": "section",
  "class": "custom-ksp-battery-section",
  "settings": [
    {
      "type": "color",
      "id": "text_color",
      "label": "Text Color",
      "default": "#FFFFFF"
    },
    {
      "type": "text",
      "id": "headline",
      "label": "Headline",
      "default": "GO FOR WEEKS, NOT DAYS"
    },
    {
      "type": "textarea",
      "id": "subheading",
      "label": "Subheading",
      "default": "Stop worrying about your battery. The OWS Pro offers a staggering 58 hours of total playtime."
    },
    {
      "type": "image_picker",
      "id": "background_image",
      "label": "Background Image"
    }
  ],
  "presets": [
    {
      "name": "KSP: Exceptional Battery"
    }
  ]
}
{% endschema %}
