{%- comment -%}
  Section: KSP Showcase
  - Displays a heading and a grid of Key Selling Points with icons.
{%- endcomment -%}

{%- liquid
  assign section_dom_id = 'ksp-showcase-' | append: section.id
-%}

<section
  id="{{ section_dom_id }}"
  class="color-scheme color-{{ section.settings.color_scheme | default: 'scheme-2' }} bg-background py-16 sm:py-20 lg:py-24"
  data-section-id="{{ section.id }}"
>
  <div class="mx-auto max-w-7xl px-4 sm:px-6 lg:px-8">
    <div class="mx-auto max-w-3xl text-center">
      <h2 class="text-3xl font-bold tracking-tight text-foreground sm:text-4xl font-heading">
        {{ section.settings.heading }}
      </h2>
    </div>

    {%- if section.blocks.size > 0 -%}
      <div class="mx-auto mt-16 grid max-w-2xl grid-cols-1 gap-x-8 gap-y-16 lg:max-w-none lg:grid-cols-3">
        {%- for block in section.blocks -%}
          <div class="flex flex-col items-center text-center" {{ block.shopify_attributes }}>
            <div class="flex h-12 w-12 items-center justify-center rounded-lg bg-primary text-primary-foreground">
              {%- case block.settings.icon -%}
                {%- when 'comfort' -%}
                  <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="h-6 w-6"><path d="M12 2a5 5 0 0 0-5 5c0 1.84.63 3.54 1.68 4.82A5.99 5.99 0 0 1 12 10a5.99 5.99 0 0 1 3.32 1.82A5 5 0 0 0 17 7a5 5 0 0 0-5-5z"/><path d="M12 10v12"/><path d="M2 12c0 2.8.84 5.4 2.35 7.5"/><path d="M22 12c0 2.8-.84 5.4-2.35 7.5"/></svg>
                {%- when 'battery' -%}
                  <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="h-6 w-6"><rect width="16" height="10" x="2" y="7" rx="2" ry="2"/><line x1="22" x2="22" y1="11" y2="13"/><line x1="6" x2="6" y1="11" y2="13"/><line x1="10" x2="10" y1="11" y2="13"/></svg>
                {%- when 'sound' -%}
                  <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="h-6 w-6"><polygon points="11 5 6 9 2 9 2 15 6 15 11 19 11 5"/><path d="M15.54 8.46a5 5 0 0 1 0 7.07"/><path d="M19.07 4.93a10 10 0 0 1 0 14.14"/></svg>
              {%- endcase -%}
            </div>
            <div class="mt-5">
              <h3 class="text-lg font-semibold leading-6 text-foreground">{{ block.settings.title }}</h3>
              <p class="mt-2 text-base leading-7 text-muted">{{ block.settings.description }}</p>
            </div>
          </div>
        {%- endfor -%}
      </div>
    {%- endif -%}
  </div>
</section>

{% schema %}
{
  "name": "C: KSP Showcase",
  "tag": "section",
  "class": "ksp-showcase-section",
  "max_blocks": 3,
  "settings": [
    {
      "type": "color_scheme",
      "id": "color_scheme",
      "label": "Color Scheme",
      "default": "scheme-2"
    },
    {
      "type": "text",
      "id": "heading",
      "label": "Heading",
      "default": "Experience the Oladance Difference"
    }
  ],
  "blocks": [
    {
      "type": "ksp_item",
      "name": "KSP Item",
      "settings": [
        {
          "type": "select",
          "id": "icon",
          "label": "Icon",
          "options": [
            { "value": "comfort", "label": "Comfort" },
            { "value": "battery", "label": "Battery" },
            { "value": "sound", "label": "Sound" }
          ],
          "default": "comfort"
        },
        {
          "type": "text",
          "id": "title",
          "label": "Title",
          "default": "All-Day Comfort"
        },
        {
          "type": "textarea",
          "id": "description",
          "label": "Description",
          "default": "Our open-ear design rests gently on your ear, eliminating pressure and discomfort for a weightless experience."
        }
      ]
    }
  ],
  "presets": [
    {
      "name": "C: KSP Showcase",
      "blocks": [
        { "type": "ksp_item", "settings": { "icon": "comfort", "title": "All-Day Comfort" } },
        { "type": "ksp_item", "settings": { "icon": "battery", "title": "16-Hour+ Battery" } },
        { "type": "ksp_item", "settings": { "icon": "sound", "title": "Superior Bass Quality" } }
      ]
    }
  ]
}
{% endschema %}
