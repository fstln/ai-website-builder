<section class="bg-white px-6 py-24 sm:py-32 lg:px-8">
    <div class="mx-auto max-w-7xl">
        <div class="text-center mb-16">
            {%- if section.settings.heading != blank -%}
            <h2 class="font-['Outfit'] text-4xl sm:text-5xl font-bold text-gray-900 mb-4">
                {{ section.settings.heading }}
            </h2>
            {%- endif -%}
            {%- if section.settings.subheading != blank -%}
            <p class="text-xl text-gray-600 max-w-2xl mx-auto">
                {{ section.settings.subheading }}
            </p>
            {%- endif -%}
        </div>

        {%- if section.blocks.size > 0 -%}
            {%- for block in section.blocks -%}
                {%- case block.type -%}
                    {%- when 'press_logos' -%}
                        <div class="mb-20">
                            {%- if block.settings.heading != blank -%}
                            <p class="text-center text-sm font-semibold text-gray-500 uppercase tracking-widest mb-8">{{ block.settings.heading }}</p>
                            {%- endif -%}
                            <div class="flex flex-wrap justify-center items-center gap-x-12 gap-y-8">
                                {%- for i in (1..5) -%}
                                    {%- assign image_key = 'logo_' | append: i -%}
                                    {%- assign image = block.settings[image_key] -%}
                                    {%- if image != blank -%}
                                        <img class="h-8 sm:h-10 opacity-60 hover:opacity-100 transition-opacity" 
                                             src="{{ image | image_url: height: 40 }}" 
                                             alt="{{ image.alt | default: 'Press logo' | escape }}"
                                             height="40"
                                             width="{{ 40 | times: image.aspect_ratio | round }}"
                                             loading="lazy">
                                    {%- else -%}
                                        <img class="h-8 sm:h-10 opacity-60" src="https://placeholder.co/158x48/cccccc/cccccc?text=Logo" alt="Placeholder Logo">
                                    {%- endif -%}
                                {%- endfor -%}
                            </div>
                        </div>
                    {%- when 'testimonials' -%}
                        <div class="grid lg:grid-cols-3 gap-8">
                            {%- for i in (1..3) -%}
                                {%- assign testimonial_image_key = 'testimonial_image_' | append: i -%}
                                {%- assign testimonial_author_key = 'testimonial_author_' | append: i -%}
                                {%- assign testimonial_title_key = 'testimonial_title_' | append: i -%}
                                {%- assign testimonial_quote_key = 'testimonial_quote_' | append: i -%}

                                {%- assign image = block.settings[testimonial_image_key] -%}
                                {%- assign author = block.settings[testimonial_author_key] -%}
                                {%- assign title = block.settings[testimonial_title_key] -%}
                                {%- assign quote = block.settings[testimonial_quote_key] -%}

                                {%- if author != blank and quote != blank -%}
                                <div class="bg-gray-50 rounded-[2rem] p-8">
                                    <div class="flex items-center mb-6">
                                        {%- if image != blank -%}
                                            <img class="h-12 w-12 rounded-full" src="{{ image | image_url: width: 48 }}" alt="Profile picture of {{ author | escape }}">
                                        {%- else -%}
                                            <img class="h-12 w-12 rounded-full" src="https://i.pravatar.cc/48?u={{ forloop.index }}" alt="Placeholder profile picture">
                                        {%- endif -%}
                                        <div class="ml-4">
                                            <div class="font-['Outfit'] text-lg font-bold text-gray-900">{{ author }}</div>
                                            <div class="text-gray-600">{{ title }}</div>
                                        </div>
                                    </div>
                                    <p class="text-gray-700 leading-relaxed">
                                        {{ quote }}
                                    </p>
                                </div>
                                {%- endif -%}
                            {%- endfor -%}
                        </div>
                {%- endcase -%}
            {%- endfor -%}
        {%- endif -%}
    </div>
</section>

{% schema %}
{
  "name": "C: Social Proof HeyUp",
  "tag": "section",
  "class": "custom-social-proof-heyup-section",
  "settings": [
    {
      "type": "richtext",
      "id": "heading",
      "label": "Heading",
      "default": "<p>Loved by Tech Lovers Worldwide</p>"
    },
    {
      "type": "richtext",
      "id": "subheading",
      "label": "Subheading",
      "default": "<p>See what our community and the press are saying about their HeyUp experience.</p>"
    }
  ],
  "blocks": [
    {
      "type": "press_logos",
      "name": "Press Logos",
      "limit": 1,
      "settings": [
        {
          "type": "text",
          "id": "heading",
          "label": "Heading",
          "default": "As featured in"
        },
        {
          "type": "image_picker",
          "id": "logo_1",
          "label": "Logo 1"
        },
        {
          "type": "image_picker",
          "id": "logo_2",
          "label": "Logo 2"
        },
        {
          "type": "image_picker",
          "id": "logo_3",
          "label": "Logo 3"
        },
        {
          "type": "image_picker",
          "id": "logo_4",
          "label": "Logo 4"
        },
        {
          "type": "image_picker",
          "id": "logo_5",
          "label": "Logo 5"
        }
      ]
    },
    {
      "type": "testimonials",
      "name": "Testimonials",
      "limit": 1,
      "settings": [
        {
          "type": "header",
          "content": "Testimonial 1"
        },
        {
          "type": "image_picker",
          "id": "testimonial_image_1",
          "label": "Author Image"
        },
        {
          "type": "text",
          "id": "testimonial_author_1",
          "label": "Author Name",
          "default": "Sarah L."
        },
        {
          "type": "text",
          "id": "testimonial_title_1",
          "label": "Author Title/Role",
          "default": "Verified Buyer"
        },
        {
          "type": "textarea",
          "id": "testimonial_quote_1",
          "label": "Quote",
          "default": "\"The curation is top-notch. I've discovered so many cool gadgets on HeyUp that I wouldn't have found otherwise. It's my go-to for tech gifts!\""
        },
        {
          "type": "header",
          "content": "Testimonial 2"
        },
        {
          "type": "image_picker",
          "id": "testimonial_image_2",
          "label": "Author Image"
        },
        {
          "type": "text",
          "id": "testimonial_author_2",
          "label": "Author Name",
          "default": "Mike R."
        },
        {
          "type": "text",
          "id": "testimonial_title_2",
          "label": "Author Title/Role",
          "default": "Tech Reviewer"
        },
        {
          "type": "textarea",
          "id": "testimonial_quote_2",
          "label": "Quote",
          "default": "\"As a reviewer, I appreciate the honest community feedback. HeyUp's platform is transparent and genuinely helpful for making purchase decisions.\""
        },
        {
          "type": "header",
          "content": "Testimonial 3"
        },
        {
          "type": "image_picker",
          "id": "testimonial_image_3",
          "label": "Author Image"
        },
        {
          "type": "text",
          "id": "testimonial_author_3",
          "label": "Author Name",
          "default": "Jessica Chen"
        },
        {
          "type": "text",
          "id": "testimonial_title_3",
          "label": "Author Title/Role",
          "default": "Early Adopter"
        },
        {
          "type": "textarea",
          "id": "testimonial_quote_3",
          "label": "Quote",
          "default": "\"Being part of the early access program is a game-changer. Testing new tech before it hits the market is an incredible experience. Highly recommend!\""
        }
      ]
    }
  ],
  "presets": [
    {
      "name": "C: Social Proof HeyUp",
      "blocks": [
        { "type": "press_logos" },
        { "type": "testimonials" }
      ]
    }
  ]
}
{% endschema %}
