{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "title": "Shopify Section Schema Contract",
  "description": "Defines the structure for Shopify theme section schemas",
  "type": "object",
  "required": ["name"],
  "properties": {
    "name": {
      "type": "string",
      "description": "Display name shown in Theme Editor",
      "examples": ["Featured Products", "Hero Banner", "Newsletter Signup"]
    },
    "tag": {
      "type": "string",
      "description": "HTML tag for section wrapper",
      "enum": ["article", "aside", "div", "footer", "header", "section"],
      "default": "section"
    },
    "class": {
      "type": "string",
      "description": "CSS class applied to section wrapper",
      "examples": ["hero-section", "featured-products"]
    },
    "limit": {
      "type": "integer",
      "description": "Maximum number of times this section can be added",
      "minimum": 1,
      "examples": [1, 5, 10]
    },
    "settings": {
      "type": "array",
      "description": "Merchant-configurable settings for this section",
      "items": {
        "type": "object",
        "required": ["type", "id", "label"],
        "properties": {
          "type": {
            "type": "string",
            "enum": [
              "text",
              "textarea",
              "richtext",
              "html",
              "color",
              "color_background",
              "font_picker",
              "collection",
              "product",
              "blog",
              "page",
              "link_list",
              "url",
              "video_url",
              "range",
              "select",
              "radio",
              "checkbox",
              "number",
              "image_picker",
              "article",
              "header"
            ]
          },
          "id": {
            "type": "string",
            "description": "Unique identifier for this setting",
            "pattern": "^[a-z0-9_]+$"
          },
          "label": {
            "type": "string",
            "description": "Label shown to merchant"
          },
          "default": {
            "description": "Default value for this setting"
          },
          "info": {
            "type": "string",
            "description": "Help text shown to merchant"
          },
          "placeholder": {
            "type": "string",
            "description": "Placeholder text for input fields"
          }
        }
      }
    },
    "blocks": {
      "type": "array",
      "description": "Repeatable content blocks within this section",
      "items": {
        "type": "object",
        "required": ["type", "name"],
        "properties": {
          "type": {
            "type": "string",
            "description": "Unique block type identifier",
            "pattern": "^[a-z0-9_]+$"
          },
          "name": {
            "type": "string",
            "description": "Display name for this block type"
          },
          "limit": {
            "type": "integer",
            "description": "Maximum number of this block type"
          },
          "settings": {
            "type": "array",
            "description": "Settings specific to this block type"
          }
        }
      }
    },
    "presets": {
      "type": "array",
      "description": "Default configurations for quick section adding",
      "items": {
        "type": "object",
        "required": ["name"],
        "properties": {
          "name": {
            "type": "string",
            "description": "Preset name"
          },
          "category": {
            "type": "string",
            "description": "Theme Editor category",
            "examples": ["Hero", "Products", "Text", "Custom"]
          },
          "settings": {
            "type": "object",
            "description": "Default setting values"
          },
          "blocks": {
            "type": "array",
            "description": "Default blocks configuration"
          }
        }
      }
    },
    "enabled_on": {
      "type": "object",
      "description": "Control where section can be used",
      "properties": {
        "templates": {
          "type": "array",
          "description": "Template types where section is available",
          "items": {
            "type": "string",
            "enum": ["*", "index", "product", "collection", "page", "blog", "article", "cart"]
          }
        },
        "groups": {
          "type": "array",
          "description": "Section groups where section is available",
          "items": {
            "type": "string",
            "enum": ["header", "footer", "aside", "custom"]
          }
        }
      }
    },
    "disabled_on": {
      "type": "object",
      "description": "Control where section cannot be used",
      "properties": {
        "templates": {
          "type": "array",
          "items": {
            "type": "string"
          }
        },
        "groups": {
          "type": "array",
          "items": {
            "type": "string"
          }
        }
      }
    }
  },
  "examples": [
    {
      "name": "Featured Products",
      "tag": "section",
      "class": "featured-products-section",
      "settings": [
        {
          "type": "text",
          "id": "heading",
          "label": "Heading",
          "default": "Featured Products"
        },
        {
          "type": "collection",
          "id": "collection",
          "label": "Collection"
        },
        {
          "type": "range",
          "id": "product_count",
          "min": 2,
          "max": 12,
          "step": 2,
          "label": "Products to show",
          "default": 4
        }
      ],
      "presets": [
        {
          "name": "Featured Products",
          "category": "Products"
        }
      ]
    }
  ]
}

